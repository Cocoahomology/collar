{"version":3,"sources":["store/context.js","utils/web3.js","utils/getRpcUrl.js","assets/svg/buttonAble.svg","assets/svg/buttonDisabled.svg","components/modules/MyButton.js","assets/svg/iconInfo.svg","assets/svg/buttonWhite.svg","assets/svg/buttonWhiteHover.svg","assets/svg/arrowForwardIosIcon.svg","assets/svg/liteIcon.svg","assets/svg/termIcon.svg","assets/svg/proIcon.svg","assets/svg/mypageIcon.svg","assets/svg/closeMenu.svg","assets/svg/totalValue.svg","assets/svg/global.svg","components/modules/MyButtonWhite.js","components/modules/InfoCard1.js","components/modules/InfoCard2.js","components/modules/InfoCard3.js","components/modules/AmountInput.js","components/modules/AmountInputDouble.js","components/modules/AmountShow.js","components/modules/FloatMessage.js","components/modules/FloatMessage2.js","components/modules/ApyFloatMessage.js","assets/svg/statusApproved.svg","assets/svg/statusUnapproved.svg","assets/svg/statusConnectError.svg","assets/svg/statusNewroundLeft.svg","assets/svg/statusNewroundRight.svg","assets/svg/statusAny.svg","components/modules/MyNotifyProvider.js","components/modules/MyDivInfo.js","components/modules/MyDiv.js","assets/svg/token/USDT.svg","assets/svg/token/USDC.svg","libraries/pools.js","libraries/registry.js","config/abi/collar.js","libraries/lite.js","components/Content/Borrow.js","components/Content/Repay.js","components/Content/Deposit.js","components/Content/Withdraw.js","components/Content/Lend.js","components/Content/Exit.js","components/Content/Info.js","components/Content/PoolSelector.js","views/Lite.js","views/Pro.js","views/Term.js","views/Home.js","views/MyPage.js","views/Faucet.js","components/Navigator/index.js","components/Header/ConnectWallet.js","components/Header/AccountDialog.js","components/Header/index.js","App.js","reportWebVitals.js","index.js"],"names":["Context","createContext","RPC_URL","getRpcUrl","httpProvider","Web3","providers","HttpProvider","timeout","web3NoAccount","useStyles","makeStyles","theme","button","padding","background","border","position","opacity","transform","width","height","color","left","fontWeight","display","fontFamily","fontSize","margin","Button","name","onClick","style","disabled","classes","className","alt","src","buttonDisabledImg","buttonImg","backgroundImage","buttonWhite","backgroundRepeat","backgroundSize","minHeight","buttonWhiteHover","span","root","textAlign","flexDirection","paddingBottom","marginBottom","bottom","title","justifyContent","alignItems","backgroundColor","lineHeight","amount","marginTop","InfoCard1","props","token","status","content","parseFloat","toFixed","data","alignSelf","overflow","maxWidth","info","whiteSpace","InfoCard2","noHr","styles","data1","data2","verticalAlign","marginLeft","AmountInput","dollar","state","setState","lite","click","useState","setFontSize","anchorEl","setAnchorEl","inputRef","useRef","changInput","useCallback","event","newV","target","value","oldV","I","cur","nativeEvent","length","indexOf","useEffect","e","current","old","offsetWidth","scrollWidth","useMemo","toUpperCase","onMouseEnter","currentTarget","onMouseLeave","iconInfo","FloatMessage","TextField","onChange","placeholder","InputProps","endAdornment","max","condition","symbol","MyTabs","withStyles","flexContainer","minWidth","marginRight","textTransform","indicator","Tabs","labels","map","v","k","Tab","disableRipple","selected","s","label","MyInput","AmountInputDouble","tabs","setTabs","_","val","AmountShow","output","popover","pointerEvents","paper","wordBreak","Popover","open","Boolean","boxShadow","FloatMessage2","anchorOrigin","vertical","horizontal","transformOrigin","fontsize","ApyFloatMessage","APY","infoStr","key","Object","keys","join","icon","success","SuccessIcon","failed","FailedIcon","connecterr","ConnectErrorIcon","newroundl","NewroundLeftIcon","newroundr","NewroundRightIcon","any","AnyIcon","MyNotify","forwardRef","ref","type","message","styleProps","top","children","maxSnack","autoHideDuration","boxSizing","main","zIndex","second","third","remarks","USDT","addr","decimals","iconUsdt","USDC","iconUsdc","collar","pools","pool","bond","want","call","coll","swap_sqp","expiry_time","poolList","wantList","bondList","push","registry","profile","this","address","config","addr_bond","addr_want","addr_call","addr_coll","addr_collar","infuraid","network","chainid","balance","ethers","constants","Zero","clpt","allowance","signer","a","get_default_states","getAddress","me","abi","Contract","Promise","all","balanceOf","txcb","enqueueSnackbar","f","callback","earned","swap","sx","sy","sk","snapshot","JSON","stringify","controller","swap_fee","fee","to","from","Error","undefined","mul","div","BigNumber","pow","utils","parseUnits","formatEther","Date","coin","erc20","approve","MaxUint256","then","resp","wait","notify","catch","code","console","log","borrow_want","with_loss","eq","burn_dual","burn_call","repay_both","mint","withdraw_both","claim_reward","burn_and_claim","swap_want_to_min_coll","swap_coll_to_min_want","n","mint_dual","x","method","fbInfo","Borrow","useSnackbar","useContext","LiteContext","liteState","forceUpdate","setLiteState","useReducer","ns","input","update","setUpdate","ctx","item","action","borrow","lt","ibond","gt","owant","fetch_state","changed","get_dy","ArrowForwardIosIcon","add","parseEther","sub","toPrecision","Slippage","Rounte","Fee","Repay","repay","iwant","icoll","obond","Math","min","deposit","oclpt","get_dk","Slipage","claim","Withdraw","withdraw","iclpt","ocoll","get_dxdy","res","Lend","lend","get_dx","Exit","redeem","Info","toLocaleString","formControlTitle","formControlList","formControl","select","iconToken","PoolSelector","filter","bondToken","wantToken","reset","id","FormControl","Select","IconComponent","ExpandMoreIcon","MenuItem","borderTop","MyAccordion","borderRadius","Accordion","expanded","AccordionSummary","AccordionDetails","borderBottom","borderLeft","borderRight","variant","MyTabsChild","scroller","fixed","setExpanded","round","setRound","right","switch","hr","Switch","checked","Lite","tabsChild","LiteRegistry","default","Set","Array","tabsChildList","Content","Deposit","Provider","Pro","Box","ABI","Term","REF","cmds","msg","alert","getBalance","split","receiver","connect","transfer","tx","hash","formatUnits","paste_command","MouseEvent","view","window","bubbles","cancelable","defineProperty","firstChild","enumerable","document","dispatchEvent","navigator","clipboard","readText","i","cmd","KeyboardEvent","char","shiftKey","welcome","Typography","component","align","m","sytle","commands","pb","showControlButtons","welcomeMessage","Fab","Home","Card","CardContent","CardActions","fullWidth","size","href","totalValue","globalValue","globalValueInfo","yourBalance","detailTable","paddingRight","infoTable","infoTableMobile","buttonGroup","getContract","MyPage","setPools","COLL","price","num","account","Pools","coll_total","want_total","bond_total","clpt_pre","clpt_coll","clpt_want","receivbles","shareOfPoll","apr","apy","err","contract","TotalValueIcon","reduce","sum","GlobalIcon","MyDivInfo","table","TableContainer","Paper","Table","TableHead","TableRow","TableCell","TableBody","Faucet","setAmount","sendMe","usdt","usdc","sendTransaction","String","disableElevation","drawer","listItem","fontSpan","blurbg","MyListItem","ListItem","toLowerCase","Link","ListItemIcon","ListItemText","primary","Navigator","menu_open","location","pathname","curpage","setCurpage","changePage","Drawer","anchor","CloseMenuIcon","List","LiteIcon","ProIcon","TermIcon","MypageIcon","path","ConnectWallet","click_address","click_connect","setAddress","textOverflow","LinearProgress","AccountDialog","sync_address","sync_balance","render_address","Dialog","onClose","DialogTitle","DialogContent","scope","writeText","noWrap","disconnect","Component","appbar","toolbar","Header","dialog_open","web3Modal","connect_wallet","AppBar","Toolbar","IconButton","edge","flexGrow","clearCachedProvider","web3","Registry","hostname","Web3Modal","cacheProvider","providerOptions","walletconnect","package","WalletConnectProvider","options","infuraId","App","web3provider","provider","Web3Provider","getSigner","getNetwork","chainId","on","accounts","cachedProvider","MyNotifyProvider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.6e4f2a6c.chunk.js","sourcesContent":["import { createContext } from 'react'\r\nconst Context = createContext({})\r\nexport default Context\r\n","import Web3 from 'web3'\r\nimport getRpcUrl from './getRpcUrl'\r\n\r\nconst RPC_URL = getRpcUrl()\r\nconst httpProvider = new Web3.providers.HttpProvider(RPC_URL, { timeout: 10000 })\r\nconst web3NoAccount = new Web3(httpProvider)\r\n\r\nconst getWeb3NoAccount = () => web3NoAccount\r\n\r\nexport { getWeb3NoAccount }\r\nexport default web3NoAccount\r\n","const getNodeUrl = () => {\r\n  // local env to test\r\n  if (process.env.NODE_ENV === 'development') {\r\n    return 'https://kovan.infura.io'\r\n  }\r\n\r\n  // TODO: mainet rpc url\r\n  return ''\r\n}\r\n\r\nexport default getNodeUrl\r\n","export default __webpack_public_path__ + \"static/media/buttonAble.81d585e8.svg\";","export default __webpack_public_path__ + \"static/media/buttonDisabled.73e4eb6d.svg\";","import { makeStyles } from '@material-ui/core/styles'\r\nimport buttonImg from '@/assets/svg/buttonAble.svg'\r\nimport buttonDisabledImg from '@/assets/svg/buttonDisabled.svg'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    padding: '0',\r\n    background: 'none',\r\n    border: 'none',\r\n    position: 'relative',\r\n    '&:hover': {\r\n      opacity: 0.8,\r\n    },\r\n    '&:active': {\r\n      transform: 'translateY(3px)',\r\n    },\r\n    '&:focus': {},\r\n    '&>img': {\r\n      width: '100%',\r\n      height: '50px',\r\n    },\r\n    '&>div': {\r\n      color: '#fff',\r\n      left: '0',\r\n      width: '100%',\r\n      height: '100%',\r\n      fontWeight: 'bold',\r\n      position: 'absolute',\r\n      display: 'flex',\r\n      '& span': {\r\n        fontFamily: 'Gillsans',\r\n        fontSize: '1.1em',\r\n        margin: 'auto',\r\n      },\r\n      transform: 'translateY(-6px)',\r\n    },\r\n  },\r\n}))\r\n\r\nexport default function Button({ name, onClick, style, disabled }) {\r\n  const classes = useStyles()\r\n  return (\r\n    <button className={classes.button} {...{ onClick, style, disabled }}>\r\n      <div>\r\n        <span>{name}</span>\r\n      </div>\r\n      <img alt={name} src={disabled ? buttonDisabledImg : buttonImg} />\r\n    </button>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/iconInfo.dc65a086.svg\";","export default __webpack_public_path__ + \"static/media/buttonWhite.fc4b11a8.svg\";","export default __webpack_public_path__ + \"static/media/buttonWhiteHover.b17273db.svg\";","export default __webpack_public_path__ + \"static/media/arrowForwardIosIcon.3a03ef61.svg\";","export default __webpack_public_path__ + \"static/media/liteIcon.2b04ba2f.svg\";","export default __webpack_public_path__ + \"static/media/termIcon.a6bf4fd7.svg\";","export default __webpack_public_path__ + \"static/media/proIcon.734a82c9.svg\";","export default __webpack_public_path__ + \"static/media/mypageIcon.29a313b9.svg\";","export default __webpack_public_path__ + \"static/media/closeMenu.1dada3f4.svg\";","export default __webpack_public_path__ + \"static/media/totalValue.6d208828.svg\";","export default __webpack_public_path__ + \"static/media/global.a578a28b.svg\";","import { makeStyles } from '@material-ui/core/styles'\r\nimport { buttonWhite, buttonWhiteHover } from '@/assets/svg'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  button: {\r\n    padding: '0',\r\n    background: 'none',\r\n    border: 'none',\r\n    position: 'relative',\r\n    backgroundImage: `url(${buttonWhite})`,\r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundSize: '133px',\r\n    minHeight: '37px',\r\n    color: 'white',\r\n    margin: '5px 0',\r\n    fontSize: '14px',\r\n    fontFamily: 'Gillsans',\r\n    '&:hover': {\r\n      backgroundImage: `url(${buttonWhiteHover})`,\r\n    },\r\n    '&:active': {\r\n      transform: 'translateY(3px)',\r\n    },\r\n    '&:focus': {},\r\n  },\r\n  span: {\r\n    position: 'absolute',\r\n    transform: 'translate(-50%, -70%)',\r\n  },\r\n}))\r\n\r\nexport default function Button({ name, onClick, disabled }) {\r\n  const classes = useStyles()\r\n  return (\r\n    <button className={classes.button} {...{ onClick, disabled }}>\r\n      <span className={classes.span}>{name}</span>\r\n    </button>\r\n  )\r\n}\r\n","import { makeStyles } from '@material-ui/core/styles'\r\nimport DynamicFont from 'react-dynamic-font'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    textAlign: 'center',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    position: 'relative',\r\n    paddingBottom: '20px',\r\n    marginBottom: '10px',\r\n    '&>div>hr': {\r\n      position: 'absolute',\r\n      width: '100%',\r\n      bottom: 0,\r\n    },\r\n  },\r\n  title: {\r\n    fontFamily: 'Gillsans',\r\n    color: 'white',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    margin: '5px 0',\r\n    '& span:last-child': {\r\n      backgroundColor: '#4976FF',\r\n      padding: '0px 3px',\r\n      height: '20px',\r\n      lineHeight: '20px',\r\n    },\r\n  },\r\n  amount: {\r\n    width: '100%',\r\n    fontFamily: 'Gillsans',\r\n    fontSize: '1.5em',\r\n    marginTop: '5px',\r\n    color: 'white',\r\n    textAlign: 'left',\r\n  },\r\n}))\r\n\r\nexport default function InfoCard1(props) {\r\n  const classes = useStyles()\r\n  const { token, status, amount } = props\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.title}>\r\n        <span style={{ fontSize: '0.9em' }}>{token}</span>\r\n        <span style={{ fontSize: '0.6em' }}>{status}</span>\r\n      </div>\r\n      <div className={classes.amount}>\r\n        <DynamicFont content={parseFloat(amount).toFixed(3)} />\r\n      </div>\r\n      <div>\r\n        <hr />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { makeStyles } from '@material-ui/core/styles'\r\nimport DynamicFont from 'react-dynamic-font'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    position: 'relative',\r\n    paddingBottom: '20px',\r\n    marginBottom: '10px',\r\n    '&>div>hr': {\r\n      position: 'absolute',\r\n      width: '100%',\r\n      bottom: 0,\r\n    },\r\n  },\r\n  title: {\r\n    fontFamily: 'Gillsans',\r\n    fontSize: '0.9em',\r\n    color: 'white',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    margin: '5px 0',\r\n  },\r\n  data: {\r\n    fontFamily: 'Gillsans',\r\n    alignSelf: 'flex-start',\r\n    color: 'white',\r\n    fontSize: '1.4em',\r\n    overflow: 'hidden',\r\n    maxWidth: '100%',\r\n    marginBottom: '10px',\r\n  },\r\n  info: {\r\n    fontFamily: 'Gillsans',\r\n    textAlign: 'start',\r\n    fontSize: '10px',\r\n    color: 'white',\r\n    whiteSpace: 'pre-line',\r\n  },\r\n}))\r\n\r\nexport default function InfoCard2({ title, data, info, noHr, styles }) {\r\n  const classes = useStyles()\r\n  return (\r\n    <div className={classes.root}>\r\n      <div>\r\n        <div className={classes.title}>\r\n          <span>{title}</span>\r\n        </div>\r\n        {data && (\r\n          <div className={classes.data}>\r\n            <DynamicFont content={data} />\r\n          </div>\r\n        )}\r\n        {info && (\r\n          <div className={classes.info} style={styles}>\r\n            <span>{info}</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n      {noHr || (\r\n        <div>\r\n          <hr />\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import { makeStyles } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    position: 'relative',\r\n    paddingBottom: '20px',\r\n    marginBottom: '10px',\r\n    '&>div>hr': {\r\n      position: 'absolute',\r\n      width: '100%',\r\n      bottom: 0,\r\n    },\r\n  },\r\n  title: {\r\n    fontFamily: 'Gillsans',\r\n    fontSize: '0.9em',\r\n    color: 'white',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    margin: '5px 0',\r\n  },\r\n  data: {\r\n    fontFamily: 'Gillsans',\r\n    alignSelf: 'flex-start',\r\n    color: 'white',\r\n    fontSize: '0.8em',\r\n    overflow: 'hidden',\r\n    maxWidth: 'calc(50vw - 40px)',\r\n    marginBottom: '10px',\r\n  },\r\n}))\r\n\r\nexport default function InfoCard2(props) {\r\n  const classes = useStyles()\r\n  const { title, data1, data2, noHr } = props\r\n  return (\r\n    <div className={classes.root}>\r\n      <div>\r\n        <div className={classes.title}>\r\n          <span>{title}</span>\r\n        </div>\r\n        {data1 && <div className={classes.data}>{data1}</div>}\r\n        {data2 && <div className={classes.data}>{data2}</div>}\r\n      </div>\r\n      {noHr || (\r\n        <div>\r\n          <hr />\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import { useState, useCallback, useMemo, useRef, useEffect } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { iconInfo } from '@/assets/svg'\r\nimport { TextField } from '@material-ui/core'\r\nimport { FloatMessage } from '@/components/modules'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '&>div:first-child': {\r\n      margin: '10px 0',\r\n      height: '25px',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      '&>span': {\r\n        fontFamily: 'Helvetica',\r\n        fontSize: '0.8em',\r\n        verticalAlign: 'middle',\r\n      },\r\n      '&>img': {\r\n        marginLeft: '5px',\r\n        width: '14px',\r\n        verticalAlign: 'middle',\r\n      },\r\n    },\r\n  },\r\n  AmountInput: {\r\n    border: '#272727 2px solid',\r\n    padding: '10px',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    position: 'relative',\r\n    '& input': {\r\n      fontFamily: 'Gillsans',\r\n      padding: '0',\r\n      margin: '0 5px 0 0',\r\n      fontSize: (props) => `${props.fontSize}px`,\r\n      fontWeight: 'bold',\r\n      border: 'none',\r\n      width: '100%',\r\n      color: '#30384B',\r\n    },\r\n    '& button': {\r\n      fontFamily: 'Gillsans',\r\n      fontSize: '0.8em',\r\n      color: 'white',\r\n      background: '#30384B',\r\n      border: 'none',\r\n      padding: '2px 5px',\r\n      position: 'relative',\r\n      '&[disabled]': {\r\n        background: '#d4d4d4',\r\n      },\r\n      '&>span': {\r\n        fontFamily: 'Helvetica',\r\n        position: 'absolute',\r\n        transform: 'translate(-32px,-16px)',\r\n        color: '#30384B',\r\n        fontSize: '10px',\r\n      },\r\n    },\r\n  },\r\n  amount: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    '&>div': {\r\n      width: '100%',\r\n      '&>div': {\r\n        '&:before,&:after,&:hover:not(.Mui-disabled):before': {\r\n          border: 'none',\r\n        },\r\n      },\r\n    },\r\n  },\r\n  token: {\r\n    fontFamily: 'Gillsans',\r\n    fontSize: '12px',\r\n    fontWeight: 'bold',\r\n    color: '#30384B',\r\n    marginLeft: '2px',\r\n  },\r\n  dollar: {\r\n    color: '#99A8C9',\r\n    margin: '5px',\r\n    fontWeight: 'bold',\r\n    fontFamily: 'Gillsans',\r\n    fontSize: '12px',\r\n  },\r\n}))\r\n\r\nexport default function AmountInput({ state: { state, setState, lite }, title, click, style }) {\r\n  const [fontSize, setFontSize] = useState(35)\r\n  const [anchorEl, setAnchorEl] = useState(null)\r\n  const classes = useStyles({ fontSize })\r\n  const inputRef = useRef()\r\n  const changInput = useCallback(\r\n    (event) => {\r\n      const newV = event.target.value\r\n      const oldV = state.I[title]\r\n      const cur = event.nativeEvent.data\r\n      if (\r\n        ((newV.length === 1 || oldV.indexOf('.') !== -1) && cur === '.') ||\r\n        (oldV === '0' && ['.', null].indexOf(cur) === -1)\r\n      )\r\n        return\r\n      if (['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '.', null].indexOf(cur) > -1)\r\n        setState({ I: { ...state.I, [title]: newV, old: oldV } })\r\n    },\r\n    [state.I],\r\n  )\r\n  useEffect(() => {\r\n    const e = inputRef.current\r\n    const [newV, oldV] = [state.I[title], state.I.old]\r\n    if (newV.length > (oldV || '').length) {\r\n      if (e.offsetWidth == e.scrollWidth || fontSize < 8) return\r\n      setFontSize(fontSize * 0.8)\r\n    } else if (newV.length < (oldV || '').length) {\r\n      if (e.offsetWidth < e.scrollWidth || fontSize > 35) return\r\n      setFontSize(fontSize * 1.25)\r\n    }\r\n  }, [fontSize, state.I])\r\n  return useMemo(\r\n    () => (\r\n      <div className={classes.root}>\r\n        <div>\r\n          <span>{title.toUpperCase()}</span>\r\n          <img\r\n            onMouseEnter={(e) => setAnchorEl(e.currentTarget)}\r\n            onMouseLeave={() => setAnchorEl(null)}\r\n            alt={title}\r\n            src={iconInfo}\r\n          />\r\n          <FloatMessage anchorEl={anchorEl} info={lite.info(title)} />\r\n        </div>\r\n        <div className={classes.AmountInput} style={style}>\r\n          <div className={classes.amount}>\r\n            <TextField\r\n              value={state.I[title]}\r\n              onChange={changInput}\r\n              inputRef={inputRef}\r\n              placeholder=\"0.00\"\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <button onClick={click.max} disabled={!click.condition()}>\r\n                    MAX\r\n                    <span>Balance</span>\r\n                  </button>\r\n                ),\r\n              }}\r\n            ></TextField>\r\n          </div>\r\n          <span className={classes.token}>{lite.transform('token', 'name', title).symbol}</span>\r\n          <span className={classes.dollar}>~$456,233,000.234</span>\r\n        </div>\r\n      </div>\r\n    ),\r\n    [state.I, anchorEl, click],\r\n  )\r\n}\r\n","import { useState, useCallback, useMemo, useRef, useEffect } from 'react'\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\r\nimport { iconInfo } from '@/assets/svg'\r\nimport { TextField, Tabs, Tab } from '@material-ui/core'\r\nimport { FloatMessage } from '@/components/modules'\r\nimport PhoneIcon from '@material-ui/icons/Phone'\r\nconst useStyles = makeStyles((theme) => ({\r\n  AmountInput: {\r\n    border: '#272727 2px solid',\r\n    padding: '10px',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    position: 'relative',\r\n    '& input': {\r\n      fontFamily: 'Gillsans',\r\n      padding: '0',\r\n      margin: '0 5px 0 0',\r\n      fontSize: (props) => props.fontSize,\r\n      fontWeight: 'bold',\r\n      border: 'none',\r\n      width: '100%',\r\n      color: '#30384B',\r\n    },\r\n    '& button': {\r\n      fontFamily: 'Gillsans',\r\n      fontSize: '0.8em',\r\n      color: 'white',\r\n      background: '#30384B',\r\n      border: 'none',\r\n      padding: '2px 5px',\r\n      position: 'relative',\r\n      '&[disabled]': {\r\n        background: '#d4d4d4',\r\n      },\r\n      '&>span': {\r\n        fontFamily: 'Helvetica',\r\n        position: 'absolute',\r\n        transform: 'translate(-32px,-16px)',\r\n        color: '#30384B',\r\n        fontSize: '10px',\r\n      },\r\n    },\r\n  },\r\n  amount: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    '&>div': {\r\n      width: '100%',\r\n      '&>div': {\r\n        '&:before,&:after,&:hover:not(.Mui-disabled):before': {\r\n          border: 'none',\r\n        },\r\n      },\r\n    },\r\n  },\r\n  token: {\r\n    fontFamily: 'Gillsans',\r\n    fontSize: '12px',\r\n    fontWeight: 'bold',\r\n    color: '#30384B',\r\n    marginLeft: '2px',\r\n  },\r\n  dollar: {\r\n    color: '#99A8C9',\r\n    margin: '5px',\r\n    fontWeight: 'bold',\r\n    fontFamily: 'Gillsans',\r\n    fontSize: '12px',\r\n  },\r\n}))\r\n\r\nconst MyTabs = withStyles({\r\n  root: {\r\n    minHeight: '0',\r\n  },\r\n  flexContainer: {\r\n    margin: '10px 0',\r\n    height: '25px',\r\n    '&>button': {\r\n      minHeight: '0',\r\n      minWidth: '0',\r\n      padding: '0',\r\n      marginRight: '15px',\r\n      border: 'none !important',\r\n      fontFamily: 'Helvetica',\r\n      fontSize: '0.8em',\r\n      textTransform: 'uppercase',\r\n      '&>span': {\r\n        alignItems: 'start',\r\n      },\r\n    },\r\n  },\r\n  indicator: {\r\n    display: 'none',\r\n  },\r\n})((props) => {\r\n  const [anchorEl, setAnchorEl] = useState({})\r\n  return (\r\n    <div style={{ position: 'relative' }}>\r\n      <Tabs {...props}>\r\n        {props.labels.map((v, k) => (\r\n          <Tab\r\n            disableRipple\r\n            key={k}\r\n            classes={{ selected: makeStyles({ s: { fontWeight: 'bold', color: '#275bff' } })().s }}\r\n            label={\r\n              <div style={{}}>\r\n                <span style={{ verticalAlign: 'middle' }}>{v}</span>\r\n                <img\r\n                  onMouseEnter={(e) => setAnchorEl({ [k]: e.currentTarget })}\r\n                  onMouseLeave={() => setAnchorEl({})}\r\n                  alt=\"\"\r\n                  src={iconInfo}\r\n                  style={{ width: '14px', marginLeft: '5px', verticalAlign: 'middle' }}\r\n                />\r\n                <FloatMessage anchorEl={anchorEl[k]} info={props.info[k]} />\r\n              </div>\r\n            }\r\n          />\r\n        ))}\r\n      </Tabs>\r\n    </div>\r\n  )\r\n})\r\n\r\nconst MyInput = ({ state, setState, lite, title, click, style }) => {\r\n  const [fontSize, setFontSize] = useState(35)\r\n  const classes = useStyles({ fontSize })\r\n  const inputRef = useRef()\r\n  const changInput = useCallback(\r\n    (event) => {\r\n      const newV = event.target.value\r\n      const oldV = state.I[title]\r\n      const cur = event.nativeEvent.data\r\n      if (\r\n        ((newV.length === 1 || oldV.indexOf('.') !== -1) && cur === '.') ||\r\n        (oldV === '0' && ['.', null].indexOf(cur) === -1)\r\n      )\r\n        return\r\n      if (['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '.', null].indexOf(cur) > -1)\r\n        setState({ I: { ...state.I, [title]: newV }, old: { ...state.old, [title]: oldV } })\r\n    },\r\n    [state.I, title],\r\n  )\r\n  useEffect(() => {\r\n    const e = inputRef.current\r\n    const [newV, oldV] = [state.I[title], state.old[title]]\r\n    if (newV.length > (oldV || '').length) {\r\n      if (e.offsetWidth == e.scrollWidth || fontSize < 8) return\r\n      setFontSize(fontSize * 0.8)\r\n    } else if (newV.length < (oldV || '').length) {\r\n      if (e.offsetWidth < e.scrollWidth || fontSize > 35) return\r\n      setFontSize(fontSize * 1.25)\r\n    }\r\n  }, [fontSize, state.I, title])\r\n  return (\r\n    <div className={classes.AmountInput} style={style}>\r\n      <div className={classes.amount}>\r\n        <TextField\r\n          value={state.I[title]}\r\n          onChange={changInput}\r\n          inputRef={inputRef}\r\n          placeholder=\"0.00\"\r\n          InputProps={{\r\n            endAdornment: (\r\n              <button onClick={click.max} disabled={!click.condition()}>\r\n                MAX\r\n                <span>balance</span>\r\n              </button>\r\n            ),\r\n          }}\r\n        ></TextField>\r\n      </div>\r\n      <span className={classes.token}>{lite.transform('token', 'name', title).symbol}</span>\r\n      <span className={classes.dollar}>~$456,233,000.234</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default function AmountInputDouble({ state: { state, setState, lite }, title, click, style }) {\r\n  const [tabs, setTabs] = useState(0)\r\n  return useMemo(\r\n    () => (\r\n      <div>\r\n        <MyTabs value={tabs} onChange={(_, v) => setTabs(v)} labels={title} info={title.map((val) => lite.info(val))} />\r\n        <MyInput {...{ title: title[tabs], click: click[tabs], state, setState, lite, style }} />\r\n      </div>\r\n    ),\r\n    [state.I, click, tabs],\r\n  )\r\n}\r\n","import { useMemo, useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { iconInfo } from '@/assets/svg'\r\nimport { FloatMessage } from '@/components/modules'\r\nimport DynamicFont from 'react-dynamic-font'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '&>div:first-child': {\r\n      margin: '10px 0',\r\n      height: '25px',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      '&>span': {\r\n        fontFamily: 'Helvetica',\r\n        fontSize: '0.8em',\r\n        verticalAlign: 'middle',\r\n      },\r\n      '&>img': {\r\n        marginLeft: '5px',\r\n        width: '14px',\r\n        verticalAlign: 'middle',\r\n      },\r\n    },\r\n  },\r\n  AmountShow: {\r\n    border: '#272727 2px solid',\r\n    padding: '10px',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    color: '#30384B',\r\n    fontFamily: 'Gillsans',\r\n    fontWeight: 'bold',\r\n    '&>div': {\r\n      maxWidth: 'calc(50vw - 85.5px)',\r\n      '&>span': {\r\n        fontSize: '2em',\r\n      },\r\n    },\r\n    '&>span': {\r\n      fontSize: '12px',\r\n      marginLeft: '2px',\r\n    },\r\n  },\r\n  dollar: {\r\n    color: '#99A8C9',\r\n    margin: '5px',\r\n  },\r\n}))\r\n\r\nexport default function AmountShow({ state: { state, lite }, title, style }) {\r\n  const classes = useStyles()\r\n  const [anchorEl, setAnchorEl] = useState(null)\r\n  return useMemo(\r\n    () => (\r\n      <div className={classes.root}>\r\n        <div>\r\n          <span>{title.toUpperCase()}</span>\r\n          <img\r\n            onMouseEnter={(e) => setAnchorEl(e.currentTarget)}\r\n            onMouseLeave={() => setAnchorEl(null)}\r\n            alt=\"\"\r\n            src={iconInfo}\r\n          />\r\n          <FloatMessage anchorEl={anchorEl} info={lite.info(title)} />\r\n        </div>\r\n\r\n        <div className={classes.AmountShow} style={style}>\r\n          <div>\r\n            <DynamicFont content={parseFloat(lite.transform('str', title, state.output[title])).toFixed(3)} />\r\n          </div>\r\n          <span>{lite.transform('token', 'name', title).symbol}</span>\r\n          <span className={classes.dollar}>~$456,233,000.234</span>\r\n        </div>\r\n      </div>\r\n    ),\r\n    [state.output, anchorEl],\r\n  )\r\n}\r\n","import { makeStyles } from '@material-ui/core/styles'\r\nimport { Popover } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  popover: {\r\n    pointerEvents: 'none',\r\n    opacity: '0.95',\r\n  },\r\n  paper: {\r\n    overflow: 'hidden',\r\n    '&>div': {\r\n      backgroundColor: 'gray',\r\n      color: 'white',\r\n      padding: '10px',\r\n      wordBreak: 'break-word',\r\n      maxWidth: '50vw',\r\n    },\r\n  },\r\n}))\r\n\r\nexport default function FloatMessage(props) {\r\n  const classes = useStyles()\r\n  const { anchorEl, info } = props\r\n  return (\r\n    <Popover\r\n      className={classes.popover}\r\n      classes={{\r\n        paper: classes.paper,\r\n      }}\r\n      open={Boolean(anchorEl)}\r\n      anchorEl={anchorEl}\r\n    >\r\n      <div>{info}</div>\r\n    </Popover>\r\n  )\r\n}\r\n","import { makeStyles } from '@material-ui/core/styles'\r\nimport { Popover } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  popover: {\r\n    pointerEvents: 'none',\r\n    opacity: '0.95',\r\n  },\r\n  paper: {\r\n    overflow: 'hidden',\r\n    boxShadow:\r\n      '0px 5px 5px -3px rgb(38 111 239 / 10%), 0px 8px 10px 1px rgb(38 111 239 / 8%), 0px 3px 14px 2px rgb(38 111 239 / 60%)',\r\n    '&>div': {\r\n      backgroundColor: 'white',\r\n      color: '#495EB6',\r\n      padding: '10px',\r\n      width: 'auto',\r\n      // width: '80vw',\r\n      // maxWidth: '500px',\r\n    },\r\n  },\r\n}))\r\n\r\nexport default function FloatMessage2({ anchorEl, info }) {\r\n  const classes = useStyles()\r\n  return (\r\n    <Popover\r\n      className={classes.popover}\r\n      classes={{\r\n        paper: classes.paper,\r\n      }}\r\n      open={Boolean(anchorEl)}\r\n      anchorEl={anchorEl}\r\n      anchorOrigin={{\r\n        vertical: 'bottom',\r\n        horizontal: 'right',\r\n      }}\r\n      transformOrigin={{\r\n        vertical: 'top',\r\n        horizontal: 'right',\r\n      }}\r\n    >\r\n      <div style={{ fontsize: 'Helvetica', whiteSpace: 'pre-line' }}>{info}</div>\r\n    </Popover>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { FloatMessage2 } from '.'\r\nimport { iconInfo } from '@/assets/svg'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    margin: '-10px 0 10px 0',\r\n    textAlign: 'right',\r\n    fontFamily: 'Helvetica',\r\n    fontSize: '0.8em',\r\n    '& img': {\r\n      width: '1em',\r\n      margin: '0 5px',\r\n    },\r\n  },\r\n}))\r\n\r\nexport default function ApyFloatMessage({ APY, info }) {\r\n  const classes = useStyles()\r\n  const [anchorEl, setAnchorEl] = useState(null)\r\n  const infoStr = info\r\n    .map((val) => {\r\n      let key = Object.keys(val)[0]\r\n      return `${key} = ${val[key]}`\r\n    })\r\n    .join(`\\n`)\r\n  return (\r\n    <div className={classes.root}>\r\n      <span>APY = {APY}%</span>\r\n      <img\r\n        onMouseEnter={(e) => setAnchorEl(e.currentTarget)}\r\n        onMouseLeave={() => setAnchorEl(null)}\r\n        alt=\"\"\r\n        src={iconInfo}\r\n      />\r\n      <FloatMessage2 anchorEl={anchorEl} info={infoStr} />\r\n    </div>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/statusApproved.08d2c60d.svg\";","export default __webpack_public_path__ + \"static/media/statusUnapproved.920a5006.svg\";","export default __webpack_public_path__ + \"static/media/statusConnectError.a14be159.svg\";","export default __webpack_public_path__ + \"static/media/statusNewroundLeft.50a3e7fa.svg\";","export default __webpack_public_path__ + \"static/media/statusNewroundRight.c2e8c251.svg\";","export default __webpack_public_path__ + \"static/media/statusAny.fbcbea3c.svg\";","import { forwardRef } from 'react'\r\nimport { SnackbarContent, SnackbarProvider } from 'notistack'\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\r\nimport SuccessIcon from '@/assets/svg/statusApproved.svg'\r\nimport FailedIcon from '@/assets/svg/statusUnapproved.svg'\r\nimport ConnectErrorIcon from '@/assets/svg/statusConnectError.svg'\r\nimport NewroundLeftIcon from '@/assets/svg/statusNewroundLeft.svg'\r\nimport NewroundRightIcon from '@/assets/svg/statusNewroundRight.svg'\r\nimport AnyIcon from '@/assets/svg/statusAny.svg'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    margin: '3px',\r\n    justifyContent: 'center',\r\n  },\r\n  content: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    width: '400px',\r\n    maxWidth: '70vw',\r\n    height: 'auto',\r\n    padding: '15px',\r\n    border: '#979797 1px solid',\r\n    backgroundColor: 'rgba(255,255,255,0.9)',\r\n    boxShadow:\r\n      '0px 5px 5px -3px rgb(38 111 239 / 10%), 0px 8px 10px 1px rgb(38 111 239 / 8%), 0px 3px 14px 2px rgb(38 111 239 / 10%)',\r\n    '& img': {\r\n      marginRight: '15px',\r\n    },\r\n    '&>div': {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n    },\r\n  },\r\n  title: { fontSize: '16px', color: (props) => props.title, display: (props) => props.display },\r\n  info: { fontSize: '14px', color: (props) => props.info },\r\n}))\r\n\r\nconst icon = {\r\n  success: SuccessIcon,\r\n  failed: FailedIcon,\r\n  connecterr: ConnectErrorIcon,\r\n  newroundl: NewroundLeftIcon,\r\n  newroundr: NewroundRightIcon,\r\n  any: AnyIcon,\r\n}\r\n\r\nconst MyNotify = forwardRef(function myNotify({ info: { type, title, message } }, ref) {\r\n  const styleProps = {\r\n    title: '#2AC592',\r\n    info: '#535353',\r\n    display: 'block',\r\n  }\r\n  switch (type) {\r\n    case 'failed':\r\n      styleProps['title'] = '#F25757'\r\n      break\r\n    case 'connecterr':\r\n    case 'any':\r\n      styleProps['display'] = 'none'\r\n      styleProps['info'] = '#F25757'\r\n      break\r\n    case 'newroundl':\r\n    case 'newroundr':\r\n      styleProps['display'] = 'none'\r\n      styleProps['info'] = '#2AC592'\r\n      break\r\n    default:\r\n      break\r\n  }\r\n  const classes = useStyles(styleProps)\r\n  return (\r\n    <SnackbarContent ref={ref} className={classes.root}>\r\n      <div className={classes.content}>\r\n        <img alt=\"\" src={icon[type]} />\r\n        <div>\r\n          <span className={classes.title}>{title}</span>\r\n          <span className={classes.info}>{message}</span>\r\n        </div>\r\n      </div>\r\n    </SnackbarContent>\r\n  )\r\n})\r\n\r\nexport default withStyles({\r\n  root: {\r\n    top: '50px',\r\n  },\r\n})(({ classes, children }) => (\r\n  <SnackbarProvider\r\n    maxSnack={3}\r\n    autoHideDuration={5000}\r\n    anchorOrigin={{\r\n      vertical: 'top',\r\n      horizontal: 'center',\r\n    }}\r\n    classes={{ root: classes.root }}\r\n    content={(_, info) => <MyNotify info={info} />}\r\n  >\r\n    {children}\r\n  </SnackbarProvider>\r\n))\r\n","import { withStyles } from '@material-ui/core/styles'\r\nimport DynamicFont from 'react-dynamic-font'\r\n\r\nexport default withStyles({\r\n  root: {\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    '&>div': {\r\n      position: 'relative',\r\n      backgroundColor: 'white',\r\n      boxSizing: 'border-box',\r\n      border: '#4C4C4C 3px solid',\r\n    },\r\n  },\r\n  main: {\r\n    zIndex: '4',\r\n    width: '100%',\r\n    padding: '15px',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n  },\r\n  second: {\r\n    zIndex: '2',\r\n    transform: 'translateY(-11px)',\r\n    height: '15px',\r\n    width: 'calc(100% - 20px)',\r\n  },\r\n  third: {\r\n    zIndex: '1',\r\n    transform: 'translateY(-22px)',\r\n    height: '15px',\r\n    width: 'calc(100% - 40px)',\r\n  },\r\n})(({ classes, title, remarks, amount, token, color }) => {\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.main}>\r\n        <div style={{ color: '#30384B', fontSize: '16px', fontFamily: 'Helvetica' }}>\r\n          <DynamicFont content={title} />\r\n        </div>\r\n        <div style={{ color: '#A3B7E4', fontSize: '10px', fontFamily: 'Helvetica', marginBottom: '10px' }}>\r\n          <DynamicFont content={remarks} />\r\n        </div>\r\n        <div style={{ color: color || '#30384B', fontSize: '18px', fontWeight: 'bold' }}>\r\n          <DynamicFont content={amount} />\r\n        </div>\r\n        <span style={{ color: '#30384B', fontSize: '15px', fontWeight: 'bold' }}>{token}</span>\r\n      </div>\r\n      <div className={classes.second}></div>\r\n      <div className={classes.third}></div>\r\n    </div>\r\n  )\r\n})\r\n","import { withStyles } from '@material-ui/core/styles'\r\n\r\nexport default withStyles({\r\n  root: {\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    // margin: '10px',\r\n    '&>div': {\r\n      position: 'relative',\r\n      backgroundColor: 'white',\r\n      boxSizing: 'border-box',\r\n      border: '#4C4C4C 4px solid',\r\n    },\r\n  },\r\n  main: {\r\n    zIndex: '4',\r\n    width: '100%',\r\n  },\r\n  second: {\r\n    zIndex: '2',\r\n    transform: 'translateY(-10px)',\r\n    height: '15px',\r\n    width: 'calc(100% - 20px)',\r\n  },\r\n  third: {\r\n    zIndex: '1',\r\n    transform: 'translateY(-20px)',\r\n    height: '15px',\r\n    width: 'calc(100% - 40px)',\r\n  },\r\n})(({ classes, children }) => {\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.main}>{children}</div>\r\n      <div className={classes.second}></div>\r\n      <div className={classes.third}></div>\r\n    </div>\r\n  )\r\n})\r\n","export default __webpack_public_path__ + \"static/media/USDT.6dc09781.svg\";","export default __webpack_public_path__ + \"static/media/USDC.f08e02b1.svg\";","import { iconUsdt, iconUsdc } from '@/assets/svg/token'\r\n\r\nconst USDT = { addr: '0x08f5F253fb2080660e9a4E3882Ef4458daCd52b0', symbol: 'USDT', decimals: 18, icon: iconUsdt }\r\nconst USDC = { addr: '0x67C9a0830d922C80A96408EEdF606c528836880C', symbol: 'USDC', decimals: 18, icon: iconUsdc }\r\nconst collar = { addr: '0xe405bD3C4876D1Ea0af92BaCF5831c9FCbDD78aE', symbol: 'COLLAR', decimals: 18 }\r\n\r\nconst pools = [\r\n  {\r\n    pool: '0x506FeA08646b7ED5084c7a9a302FF5a95B9E980c',\r\n    bond: USDT,\r\n    want: USDC,\r\n    call: '0x9D8FEb661AFc92b83c45fC21836C114164beB285',\r\n    coll: '0x25a722fbd8c4080937CAD2A4DFa2eeeA29539231',\r\n    collar: collar,\r\n    swap_sqp: 992187500,\r\n    expiry_time: 1633017600,\r\n  },\r\n  {\r\n    pool: '0x3894e050adae3ef3D10d7e1c79AE8F7A07866a90',\r\n    bond: USDC,\r\n    want: USDT,\r\n    call: '0x404Ced902eE6d630db51969433ea7DD2EE3524B8',\r\n    coll: '0x61E04744eD53E1Ae61A9325A5Eba31AEA24eca4D',\r\n    collar: collar,\r\n    swap_sqp: 992187500,\r\n    expiry_time: 1633017600,\r\n  },\r\n]\r\n\r\nconst poolList = {}\r\nconst wantList = []\r\nconst bondList = []\r\n\r\npools.map((val, key) => {\r\n  poolList[val.pool] = val\r\n  bondList.push(val.bond)\r\n  wantList.push(val.want)\r\n})\r\n\r\nexport default pools\r\nexport { poolList, wantList, bondList }\r\n","import { ethers } from 'ethers'\r\nimport pools from './pools'\r\n\r\nexport default class registry {\r\n  constructor(profile) {\r\n    this.token = {}\r\n    this.pool = {}\r\n    this.address = {}\r\n    this.config = {}\r\n\r\n    switch (profile) {\r\n      case 'localhost':\r\n      case '192.168.1.165':\r\n      case '192.168.100.2':\r\n      case 'yzkonchain.github.io':\r\n      case 'test.app.collar.org':\r\n        // this.token['0xBEc25Ed2BCEBB414413cb7767D106C6a7e413131'] = {\r\n        //   name: 'Collar Governance Token',\r\n        //   symbol: 'COLLAR',\r\n        //   decimals: 18,\r\n        // }\r\n        // this.token['0xbA944D9198b44b2bDdfF005450E894829468EE51'] = {\r\n        //   name: 'USD T',\r\n        //   symbol: 'USDT',\r\n        //   decimals: 18,\r\n        // }\r\n        // this.token['0x66CC925C4bEc43191294eb1c8f5975F6e18e9264'] = {\r\n        //   name: 'USD C',\r\n        //   symbol: 'USDC',\r\n        //   decimals: 18,\r\n        // }\r\n        // this.token['0x713D0803f0ee0543871bDaa62A108DE711584f11'] = {\r\n        //   name: 'CALL USDT -> USDC',\r\n        //   symbol: 'CALL',\r\n        //   decimals: 18,\r\n        // }\r\n        // this.token['0x1993EDA157207b60208e910c738aF1a63F46B0F8'] = {\r\n        //   name: 'COLL USDT -> USDC',\r\n        //   symbol: 'COLL',\r\n        //   decimals: 18,\r\n        // }\r\n        // this.token['0xC491FC5fDa92bF60fce293e3cF2D511bCc1b74c0'] = {\r\n        //   name: 'CALL USDC -> USDT',\r\n        //   symbol: 'CALL',\r\n        //   decimals: 18,\r\n        // }\r\n        // this.token['0xEB106C73F056D6E2d72D6BF811e1786756c8E619'] = {\r\n        //   name: 'COLL USDC -> USDT',\r\n        //   symbol: 'COLL',\r\n        //   decimals: 18,\r\n        // }\r\n        // this.token['0x8134223C8b69c0956fcf7EDA24A78b2fF6d34b27'] = {\r\n        //   name: 'Collar Liquidity Proof Token',\r\n        //   symbol: 'CLPT',\r\n        //   decimals: 18,\r\n        // }\r\n        // this.token['0x19a3efB70C87F08312e17736638D4DF13d0c9653'] = {\r\n        //   name: 'Collar Liquidity Proof Token',\r\n        //   symbol: 'CLPT',\r\n        //   decimals: 18,\r\n        // }\r\n        // this.pool['0x8134223C8b69c0956fcf7EDA24A78b2fF6d34b27'] = {\r\n        //   addr_bond: '0xbA944D9198b44b2bDdfF005450E894829468EE51',\r\n        //   addr_want: '0x66CC925C4bEc43191294eb1c8f5975F6e18e9264',\r\n        //   addr_call: '0x713D0803f0ee0543871bDaa62A108DE711584f11',\r\n        //   addr_coll: '0x1993EDA157207b60208e910c738aF1a63F46B0F8',\r\n        //   addr_collar: '0xBEc25Ed2BCEBB414413cb7767D106C6a7e413131',\r\n        //   swap_sqp: 992187500,\r\n        //   expiry_time: 1633017600,\r\n        // }\r\n        // this.pool['0x19a3efB70C87F08312e17736638D4DF13d0c9653'] = {\r\n        //   addr_bond: '0x66CC925C4bEc43191294eb1c8f5975F6e18e9264',\r\n        //   addr_want: '0xbA944D9198b44b2bDdfF005450E894829468EE51',\r\n        //   addr_call: '0xC491FC5fDa92bF60fce293e3cF2D511bCc1b74c0',\r\n        //   addr_coll: '0xEB106C73F056D6E2d72D6BF811e1786756c8E619',\r\n        //   addr_collar: '0xBEc25Ed2BCEBB414413cb7767D106C6a7e413131',\r\n        //   swap_sqp: 992187500,\r\n        //   expiry_time: 1633017600,\r\n        // }\r\n        // this.address['default'] = '0x8134223C8b69c0956fcf7EDA24A78b2fF6d34b27'\r\n        this.token['0xe405bD3C4876D1Ea0af92BaCF5831c9FCbDD78aE'] = {\r\n          name: 'Collar Governance Token',\r\n          symbol: 'COLLAR',\r\n          decimals: 18,\r\n        }\r\n        this.token['0x08f5F253fb2080660e9a4E3882Ef4458daCd52b0'] = {\r\n          name: 'USD T',\r\n          symbol: 'USDT',\r\n          decimals: 18,\r\n        }\r\n        this.token['0x67C9a0830d922C80A96408EEdF606c528836880C'] = {\r\n          name: 'USD C',\r\n          symbol: 'USDC',\r\n          decimals: 18,\r\n        }\r\n        this.token['0x9D8FEb661AFc92b83c45fC21836C114164beB285'] = {\r\n          name: 'CALL USDT -> USDC',\r\n          symbol: 'CALL',\r\n          decimals: 18,\r\n        }\r\n        this.token['0x25a722fbd8c4080937CAD2A4DFa2eeeA29539231'] = {\r\n          name: 'COLL USDT -> USDC',\r\n          symbol: 'COLL',\r\n          decimals: 18,\r\n        }\r\n        this.token['0x404Ced902eE6d630db51969433ea7DD2EE3524B8'] = {\r\n          name: 'CALL USDC -> USDT',\r\n          symbol: 'CALL',\r\n          decimals: 18,\r\n        }\r\n        this.token['0x61E04744eD53E1Ae61A9325A5Eba31AEA24eca4D'] = {\r\n          name: 'COLL USDC -> USDT',\r\n          symbol: 'COLL',\r\n          decimals: 18,\r\n        }\r\n        this.token['0x506FeA08646b7ED5084c7a9a302FF5a95B9E980c'] = {\r\n          name: 'Collar Liquidity Proof Token',\r\n          symbol: 'CLPT',\r\n          decimals: 18,\r\n        }\r\n        this.token['0x3894e050adae3ef3D10d7e1c79AE8F7A07866a90'] = {\r\n          name: 'Collar Liquidity Proof Token',\r\n          symbol: 'CLPT',\r\n          decimals: 18,\r\n        }\r\n        this.pool['0x506FeA08646b7ED5084c7a9a302FF5a95B9E980c'] = {\r\n          addr_bond: '0x08f5F253fb2080660e9a4E3882Ef4458daCd52b0',\r\n          addr_want: '0x67C9a0830d922C80A96408EEdF606c528836880C',\r\n          addr_call: '0x9D8FEb661AFc92b83c45fC21836C114164beB285',\r\n          addr_coll: '0x25a722fbd8c4080937CAD2A4DFa2eeeA29539231',\r\n          addr_collar: '0xe405bD3C4876D1Ea0af92BaCF5831c9FCbDD78aE',\r\n          swap_sqp: 992187500,\r\n          expiry_time: 1633017600,\r\n        }\r\n        this.pool['0x3894e050adae3ef3D10d7e1c79AE8F7A07866a90'] = {\r\n          addr_bond: '0x67C9a0830d922C80A96408EEdF606c528836880C',\r\n          addr_want: '0x08f5F253fb2080660e9a4E3882Ef4458daCd52b0',\r\n          addr_call: '0x404Ced902eE6d630db51969433ea7DD2EE3524B8',\r\n          addr_coll: '0x61E04744eD53E1Ae61A9325A5Eba31AEA24eca4D',\r\n          addr_collar: '0xe405bD3C4876D1Ea0af92BaCF5831c9FCbDD78aE',\r\n          swap_sqp: 992187500,\r\n          expiry_time: 1633017600,\r\n        }\r\n        this.address['default'] = '0x506FeA08646b7ED5084c7a9a302FF5a95B9E980c'\r\n        this.config.infuraid = '9180c5a422ac44f9b21ad7927b6b662c'\r\n        // this.config.network = 'kovan'\r\n        // this.config.chainid = 42\r\n        this.config.network = 'ropsten'\r\n        this.config.chainid = 3\r\n        break\r\n      default:\r\n        this.token['0x5FbDB2315678afecb367f032d93F642f64180aa3'] = {\r\n          name: 'Collar Governance Token',\r\n          symbol: 'COLLAR',\r\n          decimals: 18,\r\n        }\r\n        this.token['0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512'] = {\r\n          name: 'USD X',\r\n          symbol: 'USDX',\r\n          decimals: 18,\r\n        }\r\n        this.token['0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0'] = {\r\n          name: 'USD Y',\r\n          symbol: 'USDY',\r\n          decimals: 18,\r\n        }\r\n        this.token['0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9'] = {\r\n          name: 'CALL USDX -> USDY',\r\n          symbol: 'CALL',\r\n          decimals: 18,\r\n        }\r\n        this.token['0xDc64a140Aa3E981100a9becA4E685f962f0cF6C9'] = {\r\n          name: 'COLL USDX -> USDY',\r\n          symbol: 'COLL',\r\n          decimals: 18,\r\n        }\r\n        this.token['0xa513E6E4b8f2a923D98304ec87F64353C4D5C853'] = {\r\n          name: 'Collar Liquidity Proof Token',\r\n          symbol: 'CLPT',\r\n          decimals: 18,\r\n        }\r\n        this.pool['0xa513E6E4b8f2a923D98304ec87F64353C4D5C853'] = {\r\n          addr_bond: '0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512',\r\n          addr_want: '0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0',\r\n          addr_call: '0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9',\r\n          addr_coll: '0xDc64a140Aa3E981100a9becA4E685f962f0cF6C9',\r\n          addr_collar: '0x5FbDB2315678afecb367f032d93F642f64180aa3',\r\n          swap_sqp: 992187500,\r\n          expiry_time: 4000000000,\r\n        }\r\n        this.address['default'] = '0xa513E6E4b8f2a923D98304ec87F64353C4D5C853'\r\n        this.config.infuraid = '9180c5a422ac44f9b21ad7927b6b662c'\r\n        this.config.network = 'mainnet'\r\n        this.config.chainid = 31337\r\n        break\r\n    }\r\n  }\r\n\r\n  get_default_states() {\r\n    return {\r\n      balance: {\r\n        bond: ethers.constants.Zero,\r\n        want: ethers.constants.Zero,\r\n        call: ethers.constants.Zero,\r\n        coll: ethers.constants.Zero,\r\n        clpt: ethers.constants.Zero,\r\n        collar: ethers.constants.Zero,\r\n      },\r\n      allowance: {\r\n        bond: ethers.constants.Zero,\r\n        want: ethers.constants.Zero,\r\n      },\r\n    }\r\n  }\r\n  async get_current_states(signer, pool) {\r\n    const s = this.get_default_states()\r\n    const me = await signer.getAddress()\r\n    const abi = [\r\n      'function balanceOf(address) external view returns (uint256)',\r\n      'function allowance(address, address) external view returns (uint256)',\r\n    ]\r\n    const bond = new ethers.Contract(this.pool[pool].addr_bond, abi, signer)\r\n    const want = new ethers.Contract(this.pool[pool].addr_want, abi, signer)\r\n    const call = new ethers.Contract(this.pool[pool].addr_call, abi, signer)\r\n    const coll = new ethers.Contract(this.pool[pool].addr_coll, abi, signer)\r\n    const clpt = new ethers.Contract(pool, abi, signer)\r\n    const collar = new ethers.Contract(this.pool[pool].addr_collar, abi, signer)\r\n    ;[\r\n      s.balance.bond,\r\n      s.balance.want,\r\n      s.balance.call,\r\n      s.balance.coll,\r\n      s.balance.clpt,\r\n      s.balance.collar,\r\n      s.allowance.bond,\r\n      s.allowance.want,\r\n    ] = await Promise.all([\r\n      bond.balanceOf(me),\r\n      want.balanceOf(me),\r\n      call.balanceOf(me),\r\n      coll.balanceOf(me),\r\n      clpt.balanceOf(me),\r\n      collar.balanceOf(me),\r\n      bond.allowance(me, pool),\r\n      want.allowance(me, pool),\r\n    ])\r\n    return s\r\n  }\r\n}\r\n","const collar = [\r\n  'function balanceOf(address) external view returns (uint256)',\r\n  'function sx() external view returns (uint256)',\r\n  'function sy() external view returns (uint256)',\r\n  'function sk() external view returns (uint256)',\r\n  'function swap_sqp() external view returns (uint256)',\r\n  'function calc_k(uint256,uint256) external view returns (uint256)',\r\n  'function get_dx(uint256) external view returns (uint256)',\r\n  'function get_dy(uint256) external view returns (uint256)',\r\n  'function get_dk(uint256, uint256) external view returns (uint256)',\r\n  'function earned(address) external view returns (uint256)',\r\n  'function get_dxdy(uint256) external view returns (uint256, uint256)',\r\n  'function borrow_want(uint256, uint256) external',\r\n  'function burn_call(uint256) external',\r\n  'function burn_dual(uint256) external',\r\n  'function repay_both(uint256, uint256) external',\r\n  'function mint(uint256, uint256, uint256) external',\r\n  'function withdraw_both(uint256) external',\r\n  'function swap_coll_to_min_want(uint256, uint256) external',\r\n  'function swap_want_to_min_coll(uint256, uint256) external',\r\n  'function claim_reward() external',\r\n  'function swap_fee() public pure returns (uint256)',\r\n  'functionburn_and_claim(uint256) public',\r\n  'function mint_dual(uint256) public',\r\n]\r\n\r\nexport default collar\r\n","import { ethers } from 'ethers'\r\nimport collar from '@/config/abi/collar'\r\nexport default class registry {\r\n  constructor(registry, pool, signer, txcb, enqueueSnackbar) {\r\n    this.f = { registry: registry, pool: pool, signer: signer }\r\n    this.callback = txcb\r\n    this.enqueueSnackbar = enqueueSnackbar\r\n    this.state = {\r\n      balance: {\r\n        bond: ethers.constants.Zero,\r\n        want: ethers.constants.Zero,\r\n        call: ethers.constants.Zero,\r\n        coll: ethers.constants.Zero,\r\n        clpt: ethers.constants.Zero,\r\n        collar: ethers.constants.Zero,\r\n      },\r\n      allowance: {\r\n        bond: ethers.constants.Zero,\r\n        want: ethers.constants.Zero,\r\n      },\r\n      earned: {\r\n        collar: ethers.constants.Zero,\r\n      },\r\n      swap: {\r\n        sx: ethers.constants.Zero,\r\n        sy: ethers.constants.Zero,\r\n        sk: ethers.constants.Zero,\r\n      },\r\n    }\r\n  }\r\n\r\n  async fetch_state() {\r\n    const pool = this.f.pool()\r\n    const signer = this.f.signer()\r\n    const snapshot = JSON.stringify(this.state)\r\n    if (signer === null) {\r\n      return false\r\n    }\r\n    const me = await signer.getAddress()\r\n    const bond = this.transform('erc20', null, 'bond')\r\n    const want = this.transform('erc20', null, 'want')\r\n    const call = this.transform('erc20', null, 'call')\r\n    const coll = this.transform('erc20', null, 'coll')\r\n    const clpt = this.transform('erc20', null, 'clpt')\r\n    const collar = this.transform('erc20', null, 'collar')\r\n    ;[\r\n      this.state.balance.bond,\r\n      this.state.balance.want,\r\n      this.state.balance.call,\r\n      this.state.balance.coll,\r\n      this.state.balance.clpt,\r\n      this.state.balance.collar,\r\n      this.state.allowance.bond,\r\n      this.state.allowance.want,\r\n      this.state.earned.collar,\r\n      this.state.swap.sx,\r\n      this.state.swap.sy,\r\n      this.state.swap.sk,\r\n      this.state.swap.fee,\r\n    ] = await Promise.all([\r\n      bond.balanceOf(me),\r\n      want.balanceOf(me),\r\n      call.balanceOf(me),\r\n      coll.balanceOf(me),\r\n      clpt.balanceOf(me),\r\n      collar.balanceOf(me),\r\n      bond.allowance(me, pool),\r\n      want.allowance(me, pool),\r\n      this.controller().earned(me),\r\n      this.controller().sx(),\r\n      this.controller().sy(),\r\n      this.controller().sk(),\r\n      this.controller().swap_fee(),\r\n    ])\r\n    if (JSON.stringify(this.state) === snapshot) {\r\n      return false\r\n    }\r\n    return true\r\n  }\r\n\r\n  controller(address) {\r\n    const pool = address || this.f.pool()\r\n    const signer = this.f.signer()\r\n    return new ethers.Contract(pool, collar, signer)\r\n  }\r\n\r\n  transform(to, from, value) {\r\n    const registry = this.f.registry()\r\n    const pool = this.f.pool()\r\n    const signer = this.f.signer()\r\n    switch (to) {\r\n      case 'address':\r\n        switch (from) {\r\n          default:\r\n            switch (value) {\r\n              case 'bond':\r\n                return registry.pool[pool].addr_bond\r\n              case 'want':\r\n                return registry.pool[pool].addr_want\r\n              case 'call':\r\n                return registry.pool[pool].addr_call\r\n              case 'coll':\r\n                return registry.pool[pool].addr_coll\r\n              case 'collar':\r\n                return registry.pool[pool].addr_collar\r\n              case 'clpt':\r\n                return pool\r\n              default:\r\n                return pool\r\n            }\r\n        }\r\n      case 'token':\r\n        switch (from) {\r\n          default:\r\n            switch (value) {\r\n              default:\r\n                return registry.token[this.transform('address', null, value)]\r\n            }\r\n        }\r\n      case 'erc20':\r\n        switch (from) {\r\n          default:\r\n            switch (value) {\r\n              default:\r\n                return new ethers.Contract(\r\n                  this.transform('address', from, value),\r\n                  [\r\n                    'function transfer(address, uint256) external',\r\n                    'function approve(address, uint256) external',\r\n                    'function balanceOf(address) external view returns (uint256)',\r\n                    'function allowance(address, address) external view returns (uint256)',\r\n                  ],\r\n                  signer,\r\n                )\r\n            }\r\n        }\r\n      case 'balance':\r\n        switch (from) {\r\n          default:\r\n            // name\r\n            switch (value) {\r\n              case 'call':\r\n                return this.state.balance.call\r\n              case 'coll':\r\n                return this.state.balance.coll\r\n              case 'collar':\r\n                return this.state.balance.collar\r\n              case 'clpt':\r\n                return this.state.balance.clpt\r\n              default:\r\n                throw new Error('TODO')\r\n            }\r\n        }\r\n      case 'std':\r\n        switch (from) {\r\n          case 'bond':\r\n            switch (value) {\r\n              case undefined:\r\n                return this.state.balance.bond\r\n                  .mul('1000000000000000000')\r\n                  .div(ethers.BigNumber.from('10').pow(this.transform('token', null, 'bond').decimals))\r\n              case null:\r\n                return this.state.balance.bond\r\n                  .mul('1000000000000000000')\r\n                  .div(ethers.BigNumber.from('10').pow(this.transform('token', null, 'bond').decimals))\r\n              case 'balance':\r\n                return this.state.balance.bond\r\n                  .mul('1000000000000000000')\r\n                  .div(ethers.BigNumber.from('10').pow(this.transform('token', null, 'bond').decimals))\r\n              case 'allowance':\r\n                return this.state.allowance.bond\r\n                  .mul('1000000000000000000')\r\n                  .div(ethers.BigNumber.from('10').pow(this.transform('token', null, 'bond').decimals))\r\n              default:\r\n                return value\r\n                  .mul('1000000000000000000')\r\n                  .div(ethers.BigNumber.from('10').pow(this.transform('token', null, 'bond').decimals))\r\n            }\r\n          case 'want':\r\n            switch (value) {\r\n              case undefined:\r\n                return this.state.balance.want\r\n                  .mul('1000000000000000000')\r\n                  .div(ethers.BigNumber.from('10').pow(this.transform('token', null, 'want').decimals))\r\n              case null:\r\n                return this.state.balance.want\r\n                  .mul('1000000000000000000')\r\n                  .div(ethers.BigNumber.from('10').pow(this.transform('token', null, 'want').decimals))\r\n              case 'balance':\r\n                return this.state.balance.want\r\n                  .mul('1000000000000000000')\r\n                  .div(ethers.BigNumber.from('10').pow(this.transform('token', null, 'want').decimals))\r\n              case 'allowance':\r\n                return this.state.allowance.want\r\n                  .mul('1000000000000000000')\r\n                  .div(ethers.BigNumber.from('10').pow(this.transform('token', null, 'want').decimals))\r\n              default:\r\n                return value\r\n                  .mul('1000000000000000000')\r\n                  .div(ethers.BigNumber.from('10').pow(this.transform('token', null, 'want').decimals))\r\n            }\r\n          case 'str':\r\n            switch (value) {\r\n              default:\r\n                return ethers.utils.parseUnits(value, 18)\r\n            }\r\n          case 'balance':\r\n            switch (value) {\r\n              case 'bond':\r\n                return this.transform('std', 'bond')\r\n              case 'want':\r\n                return this.transform('std', 'want')\r\n              default:\r\n                return this.transform('balance', 'name', value)\r\n            }\r\n          default:\r\n            switch (value) {\r\n              default:\r\n                return value\r\n            }\r\n        }\r\n      case 'bond':\r\n        switch (from) {\r\n          case 'str':\r\n            switch (value) {\r\n              default:\r\n                return ethers.utils.parseUnits(value, this.transform('token', null, 'bond').decimals)\r\n            }\r\n          default:\r\n            switch (value) {\r\n              default:\r\n                return value\r\n                  .mul(ethers.BigNumber.from('10').pow(this.transform('token', null, 'bond').decimals))\r\n                  .div('1000000000000000000')\r\n            }\r\n        }\r\n      case 'want':\r\n        switch (from) {\r\n          case 'str':\r\n            switch (value) {\r\n              default:\r\n                return ethers.utils.parseUnits(value, this.transform('token', null, 'want').decimals)\r\n            }\r\n          default:\r\n            switch (value) {\r\n              default:\r\n                return value\r\n                  .mul(ethers.BigNumber.from('10').pow(this.transform('token', null, 'want').decimals))\r\n                  .div('1000000000000000000')\r\n            }\r\n        }\r\n      case 'str':\r\n        switch (from) {\r\n          default:\r\n            switch (value) {\r\n              default:\r\n                return ethers.utils.formatEther(this.transform('std', from, value))\r\n            }\r\n        }\r\n      case 'estr':\r\n        switch (from) {\r\n          default:\r\n            switch (value) {\r\n              default:\r\n                return this.transform('str', from, value)\r\n            }\r\n        }\r\n\r\n      default:\r\n        break\r\n    }\r\n  }\r\n\r\n  expiry_time() {\r\n    const registry = this.f.registry()\r\n    const pool = this.f.pool()\r\n    return new Date(registry.pool[pool].expiry_time * 1000)\r\n  }\r\n\r\n  pool() {\r\n    const registry = this.f.registry()\r\n    const pool = this.f.pool()\r\n    return registry.pool[pool]\r\n  }\r\n\r\n  async approve(coin) {\r\n    switch (coin) {\r\n      case 'bond':\r\n      case 'want':\r\n        coin = this.transform('address', null, coin)\r\n        break\r\n      default:\r\n        break\r\n    }\r\n    const pool = this.f.pool()\r\n    const signer = this.f.signer()\r\n    const erc20 = new ethers.Contract(coin, ['function approve(address, uint256) external'], signer)\r\n    await erc20\r\n      .approve(pool, ethers.constants.MaxUint256)\r\n      .then((resp) => resp.wait())\r\n      .then(({ status }) => this.notify('approve', status))\r\n      .catch(({ code }) => {\r\n        switch (code) {\r\n          case 4001:\r\n            this.notify('cancel')\r\n            break\r\n          default:\r\n            console.log(code)\r\n            break\r\n        }\r\n      })\r\n  }\r\n\r\n  async borrow(bond, want) {\r\n    await this.controller()\r\n      .borrow_want(this.transform('std', 'bond', bond), this.with_loss(this.transform('std', 'want', want)))\r\n      .then((resp) => resp.wait())\r\n      .then(({ status }) => this.notify('borrow', status))\r\n      .catch(({ code }) => {\r\n        switch (code) {\r\n          case 4001:\r\n            this.notify('cancel')\r\n            break\r\n          default:\r\n            this.notify('error')\r\n            console.log(code)\r\n            break\r\n        }\r\n      })\r\n  }\r\n  async repay(want, coll) {\r\n    let resp\r\n    switch (true) {\r\n      case want.eq(ethers.constants.Zero):\r\n        resp = this.controller().burn_dual(coll)\r\n        break\r\n\r\n      case coll.eq(ethers.constants.Zero):\r\n        resp = this.controller().burn_call(this.transform('std', 'want', want))\r\n        break\r\n\r\n      default:\r\n        resp = this.controller().repay_both(this.transform('std', 'want', want), coll)\r\n        break\r\n    }\r\n    await resp\r\n      .then((resp) => resp.wait())\r\n      .then(({ status }) => this.notify('repay', status))\r\n      .catch(({ code }) => {\r\n        switch (code) {\r\n          case 4001:\r\n            this.notify('cancel')\r\n            break\r\n          default:\r\n            console.log(code)\r\n            break\r\n        }\r\n      })\r\n  }\r\n  async deposit(want, coll, clpt) {\r\n    await this.controller()\r\n      .mint(coll, this.transform('std', 'want', want), this.with_loss(clpt))\r\n      .then((resp) => resp.wait())\r\n      .then(({ status }) => this.notify('deposit', status))\r\n      .catch(({ code }) => {\r\n        switch (code) {\r\n          case 4001:\r\n            this.notify('cancel')\r\n            break\r\n          default:\r\n            console.log(code)\r\n            break\r\n        }\r\n      })\r\n  }\r\n  async withdraw(clpt) {\r\n    await this.controller()\r\n      .withdraw_both(clpt)\r\n      .then((resp) => resp.wait())\r\n      .then(({ status }) => this.notify('withdraw', status))\r\n      .catch(({ code }) => {\r\n        switch (code) {\r\n          case 4001:\r\n            this.notify('cancel')\r\n            break\r\n          default:\r\n            console.log(code)\r\n            break\r\n        }\r\n      })\r\n  }\r\n  async claim() {\r\n    await this.controller()\r\n      .claim_reward()\r\n      .then((resp) => resp.wait())\r\n      .then(({ status }) => this.notify('claim', status))\r\n      .catch(({ code }) => {\r\n        switch (code) {\r\n          case 4001:\r\n            this.notify('cancel')\r\n            break\r\n          default:\r\n            console.log(code)\r\n            break\r\n        }\r\n      })\r\n  }\r\n  async burn_and_claim(clpt) {\r\n    await this.controller()\r\n      .burn_and_claim(clpt)\r\n      .then((resp) => resp.wait())\r\n      .then(({ status }) => this.notify('withdraw', status))\r\n      .catch(({ code }) => {\r\n        switch (code) {\r\n          case 4001:\r\n            this.notify('cancel')\r\n            break\r\n          default:\r\n            console.log(code)\r\n            break\r\n        }\r\n      })\r\n  }\r\n  async lend(want, coll) {\r\n    await this.controller()\r\n      .swap_want_to_min_coll(this.with_loss(coll), this.transform('std', 'want', want))\r\n      .then((resp) => resp.wait())\r\n      .then(({ status }) => this.notify('lend', status))\r\n      .catch(({ code }) => {\r\n        switch (code) {\r\n          case 4001:\r\n            this.notify('cancel')\r\n            break\r\n          default:\r\n            console.log(code)\r\n            break\r\n        }\r\n      })\r\n  }\r\n  async redeem(want, coll) {\r\n    await this.controller()\r\n      .swap_coll_to_min_want(coll, this.with_loss(this.transform('std', 'want', want)))\r\n      .then((resp) => resp.wait())\r\n      .then(({ status }) => this.notify('redeem', status))\r\n      .catch(({ code }) => {\r\n        switch (code) {\r\n          case 4001:\r\n            this.notify('cancel')\r\n            break\r\n          default:\r\n            console.log(code)\r\n            break\r\n        }\r\n      })\r\n  }\r\n  async mint(n) {\r\n    await this.controller()\r\n      .mint_dual(n)\r\n      .then((resp) => resp.wait())\r\n      .then(console.log)\r\n      .catch(({ code }) => {\r\n        switch (code) {\r\n          case 4001:\r\n            this.notify('cancel')\r\n            break\r\n          default:\r\n            console.log(code)\r\n            break\r\n        }\r\n      })\r\n  }\r\n\r\n  with_loss(x) {\r\n    return x.mul(995).div(1000)\r\n  }\r\n\r\n  reset(registry, pool, signer) {\r\n    registry && (this.f.registry = registry)\r\n    pool && (this.f.pool = pool)\r\n    signer && (this.f.signer = signer)\r\n  }\r\n\r\n  info(type) {\r\n    switch (type) {\r\n      case 'bond':\r\n        return 'BOND token is collateral asset for borrow side to deposit.'\r\n      case 'want':\r\n        return 'WANT token is debt asset for borrow side to require.'\r\n      case 'coll':\r\n        return 'COLL token is lending certificate.'\r\n      case 'clpt':\r\n        return 'CLPT is Collar LP Token and farming reward certificate.'\r\n      case 'Borrow':\r\n        return `Get fixed rate debt with no collateral liquidation risk. \r\n        Borrowers have obiligation repay their debt before the due date. \r\n        During current round, your collateral is always safely.\r\n        A fixed 0.01% fee will be charged for each borrow order.`\r\n      case 'Repay':\r\n        return `Repay anytime before expiry to withdraw your collateral. \r\n        WANT token and COLL token are all acceptible for repayment. \r\n        Borrowers can choose which assets to repay according to fluctuations in prices. `\r\n      case 'Deposit':\r\n        return `There are three method to join Collar farming: \r\n        providing WANT only, COLL only or WANT and COLL. \r\n        Farming APY is fixed as long as users don't redeem CLPT before expiry.`\r\n      case 'Withdraw':\r\n        return `Farming users are allowed to withdraw their liquidity anytime before \r\n        expiry during current round. Redeem CLPT to collect coresponding underlying assets, \r\n        which are possibly not the same with original deposit in amount. `\r\n      case 'Lend':\r\n        return `Get fixed interest rate with fixed term. \r\n        A fixed 0.01% fee will be charged for each lending order.`\r\n      case 'Exit':\r\n        return `Lenders is capable exit from current round anytime before expiry. \r\n        The interest rate may different from their original  APY. `\r\n      default:\r\n        return ''\r\n    }\r\n  }\r\n\r\n  notify(method, status) {\r\n    this.enqueueSnackbar(this.fbInfo(method, status))\r\n  }\r\n\r\n  fbInfo(method, status) {\r\n    const failed = {\r\n      type: 'failed',\r\n      title: 'Fail.',\r\n      message: 'Your transaction failed.',\r\n    }\r\n    switch (method) {\r\n      case 'approve':\r\n        switch (status) {\r\n          case 1:\r\n            return {\r\n              type: 'success',\r\n              title: 'Approved!',\r\n              message: 'You have successfully approved your asset.',\r\n            }\r\n          default:\r\n            return failed\r\n        }\r\n      case 'borrow':\r\n        switch (status) {\r\n          case 1:\r\n            return {\r\n              type: 'success',\r\n              title: 'Deposited and Borrowed.',\r\n              message: 'You have successfully borrowed asset.',\r\n            }\r\n          default:\r\n            return failed\r\n        }\r\n      case 'repay':\r\n        switch (status) {\r\n          case 1:\r\n            return {\r\n              type: 'success',\r\n              title: 'Repaid.',\r\n              message: 'You have successfully repaid your loan.',\r\n            }\r\n          default:\r\n            return failed\r\n        }\r\n      case 'deposit':\r\n        switch (status) {\r\n          case 1:\r\n            return {\r\n              type: 'success',\r\n              title: 'Deposited.',\r\n              message: 'You have successfully deposited your asset.',\r\n            }\r\n          default:\r\n            return failed\r\n        }\r\n      case 'withdraw':\r\n        switch (status) {\r\n          case 1:\r\n            return {\r\n              type: 'success',\r\n              title: 'Withdrawn.',\r\n              message: 'You have successfully withdraw your liquidity.',\r\n            }\r\n          default:\r\n            return failed\r\n        }\r\n      case 'claim':\r\n        switch (status) {\r\n          case 1:\r\n            return {\r\n              type: 'success',\r\n              title: 'Claimed.',\r\n              message: 'You have successfully claimed your reward.',\r\n            }\r\n          default:\r\n            return failed\r\n        }\r\n      case 'lend':\r\n        switch (status) {\r\n          case 1:\r\n            return {\r\n              type: 'success',\r\n              title: 'Lent.',\r\n              message: 'You have successfully lent your assset.',\r\n            }\r\n          default:\r\n            return failed\r\n        }\r\n      case 'redeem':\r\n        switch (status) {\r\n          case 1:\r\n            return {\r\n              type: 'success',\r\n              title: 'Redeemed.',\r\n              message: 'You have successfully redeem your loan.',\r\n            }\r\n          default:\r\n            return failed\r\n        }\r\n      case 'cancel':\r\n        return {\r\n          type: 'failed',\r\n          title: 'Fail.',\r\n          message: 'User denied transaction signature.',\r\n        }\r\n      default:\r\n        return {\r\n          type: 'failed',\r\n          title: 'Fail.',\r\n          message: 'The execution failed due to an exception.',\r\n        }\r\n    }\r\n  }\r\n}\r\n","import { useContext, useReducer, useMemo, useEffect, useState } from 'react'\r\nimport { Context } from '@/store'\r\nimport { ethers } from 'ethers'\r\nimport { useSnackbar } from 'notistack'\r\nimport { MyButton, AmountInput, AmountShow, ApyFloatMessage } from '@/components/modules'\r\nimport { FormControl, MenuItem, Select } from '@material-ui/core'\r\nimport { iconInfo, iconUsdt, iconUsdc, ArrowForwardIosIcon } from '@/assets/svg'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {},\r\n  amount: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    marginBottom: '15px',\r\n    '&>div': {\r\n      width: '50%',\r\n    },\r\n    '&>img': {\r\n      marginTop: '40px',\r\n    },\r\n  },\r\n  icon: {\r\n    margin: '0 10px',\r\n  },\r\n  button: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    '&>div': {\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      '&>button': {\r\n        width: 'calc(50% - 15px)',\r\n      },\r\n    },\r\n  },\r\n}))\r\n\r\nexport default function Borrow() {\r\n  const classes = useStyles()\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const {\r\n    state: { LiteContext, registry, signer },\r\n  } = useContext(Context)\r\n  const {\r\n    liteState: { lite, forceUpdate },\r\n    setLiteState,\r\n  } = useContext(LiteContext)\r\n  const [state, setState] = useReducer((s, ns) => ({ ...s, ...ns }), {\r\n    input: {\r\n      bond: ethers.constants.Zero,\r\n    },\r\n    output: {\r\n      want: ethers.constants.Zero,\r\n    },\r\n    I: { bond: '' },\r\n  })\r\n  const [update, setUpdate] = useState({})\r\n  const val = (() => {\r\n    const ctx = { item: {}, action: {} }\r\n    switch (true) {\r\n      case state.input.bond.eq(0):\r\n        ctx.action.borrow = 'input to borrow'\r\n        break\r\n      case state.input.bond.lt(0):\r\n        ctx.item.ibond = true\r\n        ctx.action.borrow = 'negative number'\r\n        break\r\n      case state.input.bond.gt(lite.state.balance.bond):\r\n        ctx.item.ibond = true\r\n        ctx.action.borrow = 'insufficient balance'\r\n        break\r\n      case state.input.bond.gt(lite.state.allowance.bond):\r\n        ctx.item.ibond = true\r\n        ctx.action.borrow = 'approve first'\r\n        break\r\n      case state.output.want.eq(0):\r\n        ctx.item.owant = true\r\n        ctx.action.borrow = 'insufficient liquidity'\r\n        break\r\n      case state.output.want.lt(0):\r\n        ctx.item.owant = true\r\n        ctx.action.borrow = 'negative number'\r\n        break\r\n      case lite.expiry_time() <= new Date():\r\n        ctx.action.borrow = 'expired'\r\n        break\r\n      default:\r\n        break\r\n    }\r\n    return ctx\r\n  })()\r\n  useEffect(() => {\r\n    ;(async () => {\r\n      const changed = await lite.fetch_state()\r\n      try {\r\n        const bond = lite.transform('bond', 'str', state.I.bond)\r\n        if (bond.eq(state.input.bond) === false) {\r\n          setState({ input: { ...state.input, bond: bond } })\r\n          return\r\n        }\r\n      } catch {\r\n        if (ethers.constants.Zero.eq(state.input.bond) === false) {\r\n          setState({ input: { ...state.input, bond: ethers.constants.Zero } })\r\n          return\r\n        }\r\n      }\r\n      try {\r\n        const want = lite.transform(\r\n          'want',\r\n          'std',\r\n          await lite.controller().get_dy(lite.transform('std', 'bond', state.input.bond)),\r\n        )\r\n        if (want.eq(state.output.want) === false) {\r\n          setState({ output: { ...state.output, want: want } })\r\n          return\r\n        }\r\n      } catch {\r\n        if (ethers.constants.Zero.eq(state.output.want) === false) {\r\n          setState({ output: { ...state.output, want: ethers.constants.Zero } })\r\n          return\r\n        }\r\n      }\r\n      if (changed) {\r\n        setUpdate({})\r\n      }\r\n    })()\r\n  }, [state, lite, forceUpdate])\r\n  return useMemo(\r\n    () => (\r\n      <div className={classes.root}>\r\n        <div className={classes.amount}>\r\n          <div>\r\n            <AmountInput\r\n              title=\"bond\"\r\n              state={{ state, setState, lite }}\r\n              click={{\r\n                condition: () => lite.state.allowance.bond.gt('100000000000000000000000000000000'),\r\n                max: () => {\r\n                  setState({ I: { bond: lite.transform('str', 'bond', null) } })\r\n                },\r\n              }}\r\n              style={{ height: '90px' }}\r\n            />\r\n          </div>\r\n          <img alt=\"\" src={ArrowForwardIosIcon} className={classes.icon} />\r\n          <div>\r\n            <AmountShow title=\"want\" state={{ state, lite }} style={{ height: '90px' }} />\r\n          </div>\r\n        </div>\r\n        <ApyFloatMessage\r\n          APY={\r\n            lite.state.swap.sk.eq(0)\r\n              ? 'NaN'\r\n              : (\r\n                  ((parseFloat(\r\n                    ethers.utils.formatEther(\r\n                      lite.state.swap.sx\r\n                        .add(lite.state.swap.sk)\r\n                        .mul(ethers.utils.parseEther('1'))\r\n                        .div(\r\n                          lite.state.swap.sy.add(\r\n                            lite.state.swap.sk.mul(lite.pool().swap_sqp).div(ethers.BigNumber.from(1e9)),\r\n                          ),\r\n                        )\r\n                        .sub(ethers.utils.parseEther('1')),\r\n                    ),\r\n                  ) *\r\n                    31556926000) /\r\n                    (lite.expiry_time() - new Date())) *\r\n                  100\r\n                ).toPrecision(3)\r\n          }\r\n          info={[\r\n            {\r\n              Slippage: lite.state.swap.sk.eq(0)\r\n                ? 'NaN'\r\n                : `${(\r\n                    (((parseFloat(\r\n                      ethers.utils.formatEther(\r\n                        lite.state.swap.sx\r\n                          .add(state.input.bond)\r\n                          .add(lite.state.swap.sk)\r\n                          .mul(ethers.utils.parseEther('1'))\r\n                          .div(\r\n                            lite.state.swap.sy.add(\r\n                              lite.state.swap.sk.mul(lite.pool().swap_sqp).div(ethers.BigNumber.from(1e9)),\r\n                            ),\r\n                          )\r\n                          .sub(ethers.utils.parseEther('1')),\r\n                      ),\r\n                    ) -\r\n                      parseFloat(\r\n                        ethers.utils.formatEther(\r\n                          lite.state.swap.sx\r\n                            .add(lite.state.swap.sk)\r\n                            .mul(ethers.utils.parseEther('1'))\r\n                            .div(\r\n                              lite.state.swap.sy.add(\r\n                                lite.state.swap.sk.mul(lite.pool().swap_sqp).div(ethers.BigNumber.from(1e9)),\r\n                              ),\r\n                            )\r\n                            .sub(ethers.utils.parseEther('1')),\r\n                        ),\r\n                      )) *\r\n                      31556926000) /\r\n                      (lite.expiry_time() - new Date())) *\r\n                    100\r\n                  ).toPrecision(3)} %`,\r\n            },\r\n            { 'Minimal Recieve': `${(ethers.utils.formatEther(state.output.want) * 0.995).toFixed(3)} USDC` },\r\n            { Rounte: 'USDT -> COLL -> USDC' },\r\n            {\r\n              Fee: `${\r\n                lite.state.swap.sk.eq(0)\r\n                  ? '0'\r\n                  : (\r\n                      ethers.utils.formatEther(state.output.want) *\r\n                      (1 - ethers.utils.formatEther(lite.state.swap.fee))\r\n                    ).toFixed(4)\r\n              } WANT`,\r\n            },\r\n          ]}\r\n        />\r\n        <div className={classes.button}>\r\n          <div>\r\n            <MyButton\r\n              name=\"Approve\"\r\n              onClick={async () => {\r\n                await lite.approve('bond')\r\n                setLiteState({ forceUpdate: {} })\r\n              }}\r\n            />\r\n            <MyButton\r\n              name=\"Deposit & Borrow\"\r\n              onClick={async () => {\r\n                await lite.borrow(state.input.bond, state.output.want)\r\n                setLiteState({ forceUpdate: {} })\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    ),\r\n    [lite, state, update],\r\n  )\r\n}\r\n","import { useCallback, useContext, useReducer, useMemo, useEffect, useState } from 'react'\r\nimport { Context } from '@/store'\r\nimport { ethers } from 'ethers'\r\nimport { useSnackbar } from 'notistack'\r\nimport { MyButton, AmountInputDouble, AmountShow, ApyFloatMessage } from '@/components/modules'\r\nimport { FormControl, MenuItem, Select } from '@material-ui/core'\r\nimport { iconInfo, iconUsdt, iconUsdc, ArrowForwardIosIcon } from '@/assets/svg'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {},\r\n  amount: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    marginBottom: '15px',\r\n    '&>div': {\r\n      width: '50%',\r\n    },\r\n    '&>img': {\r\n      marginTop: '40px',\r\n    },\r\n  },\r\n  icon: {\r\n    margin: '0 10px',\r\n  },\r\n  button: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    '&>div': {\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      '&>button': {\r\n        width: 'calc(50% - 15px)',\r\n      },\r\n    },\r\n  },\r\n}))\r\n\r\nexport default function Repay(props) {\r\n  const classes = useStyles()\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const {\r\n    state: { LiteContext, registry },\r\n  } = useContext(Context)\r\n  const {\r\n    liteState: { lite, forceUpdate },\r\n    setLiteState,\r\n  } = useContext(LiteContext)\r\n  const [state, setState] = useReducer((s, ns) => ({ ...s, ...ns }), {\r\n    input: {\r\n      want: ethers.constants.Zero,\r\n      coll: ethers.constants.Zero,\r\n    },\r\n    output: {\r\n      bond: ethers.constants.Zero,\r\n    },\r\n    I: { want: '', coll: '' },\r\n    old: { want: '', coll: '' },\r\n  })\r\n  const [update, setUpdate] = useState({})\r\n  const val = (() => {\r\n    const ctx = { item: {}, action: {} }\r\n    switch (true) {\r\n      case state.input.want.eq(0) && state.input.coll.eq(0):\r\n        ctx.action.repay = 'input to repay'\r\n        break\r\n      case state.input.want.lt(0):\r\n        ctx.item.iwant = true\r\n        ctx.action.repay = 'negative number'\r\n        break\r\n      case state.input.coll.lt(0):\r\n        ctx.item.icoll = true\r\n        ctx.action.repay = 'negative number'\r\n        break\r\n      case state.input.want.gt(lite.state.balance.want):\r\n        ctx.item.iwant = true\r\n        ctx.action.repay = 'insufficient balance'\r\n        break\r\n      case state.input.coll.gt(lite.state.balance.coll):\r\n        ctx.item.icoll = true\r\n        ctx.action.repay = 'insufficient balance'\r\n        break\r\n      case state.input.want.gt(lite.state.allowance.want):\r\n        ctx.item.iwant = true\r\n        ctx.action.repay = 'approve first'\r\n        break\r\n      case state.output.bond.eq(0):\r\n        ctx.item.obond = true\r\n        ctx.action.repay = 'unknow error'\r\n        break\r\n      case state.output.bond.lt(0):\r\n        ctx.item.obond = true\r\n        ctx.action.repay = 'negative number'\r\n        break\r\n      case lite.transform('std', 'want', state.input.want).add(state.input.coll).gt(lite.state.balance.call):\r\n        ctx.item.iwant = true\r\n        ctx.item.icoll = true\r\n        ctx.action.repay = 'insufficient call'\r\n        break\r\n      case lite.expiry_time() <= new Date():\r\n        ctx.action.repay = 'expired'\r\n        break\r\n      default:\r\n        break\r\n    }\r\n    return ctx\r\n  })()\r\n  useEffect(() => {\r\n    ;(async () => {\r\n      const changed = await lite.fetch_state()\r\n      try {\r\n        const want = lite.transform('want', 'str', state.I.want)\r\n        if (want.eq(state.input.want) === false) {\r\n          setState({ input: { ...state.input, want: want } })\r\n          return\r\n        }\r\n      } catch {\r\n        if (ethers.constants.Zero.eq(state.input.want) === false) {\r\n          setState({ input: { ...state.input, want: ethers.constants.Zero } })\r\n          return\r\n        }\r\n      }\r\n      try {\r\n        const coll = lite.transform('std', 'str', state.I.coll)\r\n        if (coll.eq(state.input.coll) === false) {\r\n          setState({ input: { ...state.input, coll: coll } })\r\n          return\r\n        }\r\n      } catch {\r\n        if (ethers.constants.Zero.eq(state.input.coll) === false) {\r\n          setState({ input: { ...state.input, coll: ethers.constants.Zero } })\r\n          return\r\n        }\r\n      }\r\n      try {\r\n        const bond = lite.transform('bond', 'std', state.input.want.add(state.input.coll))\r\n        if (bond.eq(state.output.bond) === false) {\r\n          setState({ output: { ...state.output, bond: bond } })\r\n          return\r\n        }\r\n      } catch {\r\n        if (ethers.constants.Zero.eq(state.output.bond) === false) {\r\n          setState({ output: { ...state.output, bond: ethers.constants.Zero } })\r\n          return\r\n        }\r\n      }\r\n      if (changed) {\r\n        setUpdate({})\r\n      }\r\n    })()\r\n  }, [state, lite, forceUpdate])\r\n\r\n  return useMemo(\r\n    () => (\r\n      <div className={classes.root}>\r\n        <div className={classes.amount}>\r\n          <div>\r\n            <AmountInputDouble\r\n              title={['want', 'coll']}\r\n              state={{ state, setState, lite }}\r\n              click={[\r\n                {\r\n                  condition: () => lite.state.allowance.want.gt('100000000000000000000000000000000'),\r\n                  max: () => {\r\n                    setState({\r\n                      I: {\r\n                        ...state.I,\r\n                        want: `${Math.min(\r\n                          lite.transform('str', 'want', lite.state.balance.call),\r\n                          lite.transform('str', 'want', null),\r\n                        )}`,\r\n                      },\r\n                    })\r\n                  },\r\n                },\r\n                {\r\n                  condition: () => lite.state.balance.coll.gt('0'),\r\n                  max: () => {\r\n                    setState({\r\n                      I: {\r\n                        ...state.I,\r\n                        coll: `${Math.min(\r\n                          lite.transform('str', 'std', lite.state.balance.call),\r\n                          lite.transform('str', 'std', lite.state.balance.coll),\r\n                        )}`,\r\n                      },\r\n                    })\r\n                  },\r\n                },\r\n              ]}\r\n              style={{ height: '90px' }}\r\n            />\r\n          </div>\r\n          <img alt=\"\" src={ArrowForwardIosIcon} className={classes.icon} />\r\n          <div>\r\n            <AmountShow title=\"bond\" state={{ state, lite }} style={{ height: '90px' }} />\r\n          </div>\r\n        </div>\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n          <div style={{ margin: '-8px 0 8px 0', fontFamily: 'Helvetica', fontSize: '0.8em' }}>\r\n            Maximal debt = {ethers.utils.formatEther(lite.state.balance.call)}\r\n          </div>\r\n          <ApyFloatMessage\r\n            APY={\r\n              lite.state.swap.sk.eq(0)\r\n                ? 'NaN'\r\n                : (\r\n                    ((parseFloat(\r\n                      ethers.utils.formatEther(\r\n                        lite.state.swap.sx\r\n                          .add(lite.state.swap.sk)\r\n                          .mul(ethers.utils.parseEther('1'))\r\n                          .div(\r\n                            lite.state.swap.sy.add(\r\n                              lite.state.swap.sk.mul(lite.pool().swap_sqp).div(ethers.BigNumber.from(1e9)),\r\n                            ),\r\n                          )\r\n                          .sub(ethers.utils.parseEther('1')),\r\n                      ),\r\n                    ) *\r\n                      31556926000) /\r\n                      (lite.expiry_time() - new Date())) *\r\n                    100\r\n                  ).toPrecision(3)\r\n            }\r\n            info={[\r\n              {\r\n                Slippage: lite.state.swap.sk.eq(0)\r\n                  ? 'NaN'\r\n                  : `${(\r\n                      (((parseFloat(\r\n                        ethers.utils.formatEther(\r\n                          lite.state.swap.sx\r\n                            .add(state.output.bond)\r\n                            .add(lite.state.swap.sk)\r\n                            .mul(ethers.utils.parseEther('1'))\r\n                            .div(\r\n                              lite.state.swap.sy.add(\r\n                                lite.state.swap.sk.mul(lite.pool().swap_sqp).div(ethers.BigNumber.from(1e9)),\r\n                              ),\r\n                            )\r\n                            .sub(ethers.utils.parseEther('1')),\r\n                        ),\r\n                      ) -\r\n                        parseFloat(\r\n                          ethers.utils.formatEther(\r\n                            lite.state.swap.sx\r\n                              .add(lite.state.swap.sk)\r\n                              .mul(ethers.utils.parseEther('1'))\r\n                              .div(\r\n                                lite.state.swap.sy.add(\r\n                                  lite.state.swap.sk.mul(lite.pool().swap_sqp).div(ethers.BigNumber.from(1e9)),\r\n                                ),\r\n                              )\r\n                              .sub(ethers.utils.parseEther('1')),\r\n                          ),\r\n                        )) *\r\n                        31556926000) /\r\n                        (lite.expiry_time() - new Date())) *\r\n                      100\r\n                    ).toPrecision(3)} %`,\r\n              },\r\n              {\r\n                'Minimal Recieve': `${parseFloat(\r\n                  ethers.utils.formatEther(state.input.want.add(state.input.coll)),\r\n                ).toFixed(3)} USDT`,\r\n              },\r\n              { Rounte: 'COLL-> USDT / WANT->USDT' },\r\n              { Fee: `${0} WANT ` },\r\n            ]}\r\n          />\r\n        </div>\r\n        <div className={classes.button}>\r\n          <div>\r\n            <MyButton\r\n              name=\"Approve\"\r\n              onClick={async () => {\r\n                await lite.approve('want')\r\n                setLiteState({ forceUpdate: {} })\r\n              }}\r\n            />\r\n            <MyButton\r\n              name=\"Repay\"\r\n              onClick={async () => {\r\n                await lite.repay(state.input.want, state.input.coll)\r\n                setLiteState({ forceUpdate: {} })\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    ),\r\n    [lite, state, update],\r\n  )\r\n}\r\n","import { useCallback, useContext, useReducer, useMemo, useEffect, useState } from 'react'\r\nimport { Context } from '@/store'\r\nimport { BigNumber, ethers } from 'ethers'\r\nimport { useSnackbar } from 'notistack'\r\nimport { MyButton, AmountInput, AmountShow, ApyFloatMessage } from '@/components/modules'\r\nimport { FormControl, MenuItem, Select } from '@material-ui/core'\r\nimport { iconInfo, iconUsdt, iconUsdc, ArrowForwardIosIcon } from '@/assets/svg'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {},\r\n  amount: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    marginBottom: '15px',\r\n    '&>div': {\r\n      width: '50%',\r\n    },\r\n    '&>img': {\r\n      marginTop: '40px',\r\n    },\r\n  },\r\n  icon: {\r\n    margin: '0 10px',\r\n  },\r\n  button: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    '&>div': {\r\n      width: 'calc(50% - 15px)',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      '&>button': {\r\n        '&:first-child': {\r\n          marginBottom: '15px',\r\n        },\r\n      },\r\n      //PC\r\n      '@media screen and (min-width:960px)': {\r\n        '&:first-child': {\r\n          flexDirection: 'row',\r\n          justifyContent: 'space-between',\r\n          '&>button': {\r\n            width: 'calc(50% - 10px)',\r\n            marginBottom: '0 !important',\r\n          },\r\n        },\r\n        '&:last-child': {\r\n          '&>button': {\r\n            width: '100%',\r\n            marginBottom: '0 !important',\r\n          },\r\n        },\r\n      },\r\n    },\r\n  },\r\n}))\r\n\r\nexport default function Repay(props) {\r\n  const classes = useStyles()\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const {\r\n    state: { LiteContext, registry },\r\n  } = useContext(Context)\r\n  const {\r\n    liteState: { lite, forceUpdate },\r\n    setLiteState,\r\n  } = useContext(LiteContext)\r\n  const [state, setState] = useReducer((s, ns) => ({ ...s, ...ns }), {\r\n    input: {\r\n      want: ethers.constants.Zero,\r\n      coll: ethers.constants.Zero,\r\n    },\r\n    output: {\r\n      clpt: ethers.constants.Zero,\r\n    },\r\n    I: { want: '', coll: '' },\r\n  })\r\n  const [update, setUpdate] = useState({})\r\n  const val = (() => {\r\n    const ctx = { item: {}, action: {} }\r\n    switch (true) {\r\n      case state.input.want.eq(0) && state.input.coll.eq(0):\r\n        ctx.action.deposit = 'input to deposit'\r\n        break\r\n      case state.input.want.lt(0):\r\n        ctx.item.iwant = true\r\n        ctx.action.deposit = 'negative number'\r\n        break\r\n      case state.input.want.gt(lite.state.balance.want):\r\n        ctx.item.iwant = true\r\n        ctx.action.deposit = 'insufficient balance'\r\n        break\r\n      case state.input.want.gt(lite.state.allowance.want):\r\n        ctx.item.iwant = true\r\n        ctx.action.deposit = 'approve first'\r\n        break\r\n      case state.input.coll.lt(0):\r\n        ctx.item.icoll = true\r\n        ctx.action.deposit = 'negative number'\r\n        break\r\n      case state.input.coll.gt(lite.state.balance.coll):\r\n        ctx.item.icoll = true\r\n        ctx.action.deposit = 'insufficient balance'\r\n        break\r\n      case state.output.clpt.eq(0):\r\n        ctx.item.oclpt = true\r\n        ctx.action.deposit = 'unknown error'\r\n        break\r\n      case state.output.clpt.lt(0):\r\n        ctx.item.oclpt = true\r\n        ctx.action.deposit = 'negative number'\r\n        break\r\n      default:\r\n        break\r\n    }\r\n    return ctx\r\n  })()\r\n  useEffect(() => {\r\n    ;(async () => {\r\n      const changed = await lite.fetch_state()\r\n      try {\r\n        const want = lite.transform('want', 'str', state.I.want)\r\n        if (want.eq(state.input.want) === false) {\r\n          setState({ input: { ...state.input, want: want } })\r\n          return\r\n        }\r\n      } catch {\r\n        if (ethers.constants.Zero.eq(state.input.want) === false) {\r\n          setState({ input: { ...state.input, want: ethers.constants.Zero } })\r\n          return\r\n        }\r\n      }\r\n      try {\r\n        const coll = lite.transform('std', 'str', state.I.coll)\r\n        if (coll.eq(state.input.coll) === false) {\r\n          setState({ input: { ...state.input, coll: coll } })\r\n          return\r\n        }\r\n      } catch {\r\n        if (ethers.constants.Zero.eq(state.input.coll) === false) {\r\n          setState({ input: { ...state.input, coll: ethers.constants.Zero } })\r\n          return\r\n        }\r\n      }\r\n      try {\r\n        const clpt = await lite.controller().get_dk(state.input.coll, lite.transform('std', 'want', state.input.want))\r\n        if (clpt.eq(state.output.clpt) === false) {\r\n          setState({ output: { ...state.output, clpt: clpt } })\r\n          return\r\n        }\r\n      } catch {\r\n        if (ethers.constants.Zero.eq(state.output.clpt) === false) {\r\n          setState({ output: { ...state.output, clpt: ethers.constants.Zero } })\r\n          return\r\n        }\r\n      }\r\n      if (changed) {\r\n        setUpdate({})\r\n      }\r\n    })()\r\n  }, [state, lite, forceUpdate])\r\n  return useMemo(\r\n    () => (\r\n      <div className={classes.root}>\r\n        <div className={classes.amount}>\r\n          <div>\r\n            <AmountInput\r\n              title=\"want\"\r\n              state={{ state, setState, lite }}\r\n              click={{\r\n                condition: () => lite.state.allowance.want.gt('100000000000000000000000000000000'),\r\n                max: () => {\r\n                  setState({ I: { ...state.I, want: lite.transform('str', 'want', null) } })\r\n                },\r\n              }}\r\n              style={{ height: '90px' }}\r\n            />\r\n            <AmountInput\r\n              title=\"coll\"\r\n              state={{ state, setState, lite }}\r\n              click={{\r\n                condition: () => lite.state.balance.coll.gt('0'),\r\n                max: () => {\r\n                  setState({ I: { ...state.I, coll: lite.transform('str', 'balance', 'coll') } })\r\n                },\r\n              }}\r\n              style={{ height: '90px' }}\r\n            />\r\n          </div>\r\n          <img alt=\"\" src={ArrowForwardIosIcon} className={classes.icon} />\r\n          <div>\r\n            <AmountShow title=\"clpt\" state={{ state, lite }} style={{ height: '249px' }} />\r\n          </div>\r\n        </div>\r\n        <ApyFloatMessage\r\n          APY={`todo`}\r\n          info={[\r\n            {\r\n              'Pool Shares': `${(\r\n                (ethers.utils.formatEther(lite.state.balance.clpt) / ethers.utils.formatEther(lite.state.swap.sk)) *\r\n                100\r\n              ).toPrecision(3)} %`,\r\n            },\r\n            {\r\n              'Pool State': `1 WANT = ${(\r\n                ethers.utils.formatEther(lite.state.swap.sx) / ethers.utils.formatEther(lite.state.swap.sy)\r\n              ).toPrecision(3)} COLL`,\r\n            },\r\n            {\r\n              Slipage: lite.state.swap.sk.eq(0)\r\n                ? 'NaN'\r\n                : `${(\r\n                    (((parseFloat(\r\n                      ethers.utils.formatEther(\r\n                        lite.state.swap.sx\r\n                          .add(lite.state.swap.sk)\r\n                          .mul(ethers.utils.parseEther('1'))\r\n                          .div(\r\n                            lite.state.swap.sy.add(\r\n                              lite.state.swap.sk.mul(lite.pool().swap_sqp).div(ethers.BigNumber.from(1e9)),\r\n                            ),\r\n                          )\r\n                          .sub(ethers.utils.parseEther('1')),\r\n                      ),\r\n                    ) -\r\n                      parseFloat(\r\n                        ethers.utils.formatEther(\r\n                          lite.state.swap.sx\r\n                            .add(lite.state.swap.sk)\r\n                            .mul(ethers.utils.parseEther('1'))\r\n                            .div(\r\n                              lite.state.swap.sy.add(\r\n                                lite.state.swap.sk.mul(lite.pool().swap_sqp).div(ethers.BigNumber.from(1e9)),\r\n                              ),\r\n                            )\r\n                            .sub(ethers.utils.parseEther('1')),\r\n                        ),\r\n                      )) *\r\n                      31556926000) /\r\n                      (lite.expiry_time() - new Date())) *\r\n                    100\r\n                  ).toPrecision(3)} %`,\r\n            },\r\n          ]}\r\n        />\r\n        <div className={classes.button}>\r\n          <div>\r\n            <MyButton\r\n              name=\"Approve\"\r\n              onClick={async () => {\r\n                await lite.approve('want')\r\n                setLiteState({ forceUpdate: {} })\r\n              }}\r\n            />\r\n            <MyButton\r\n              name=\"Deposit\"\r\n              onClick={async () => {\r\n                await lite.deposit(state.input.want, state.input.coll, state.output.clpt)\r\n                setLiteState({ forceUpdate: {} })\r\n              }}\r\n            />\r\n          </div>\r\n          <div>\r\n            <MyButton\r\n              name=\"Claim\"\r\n              onClick={async () => {\r\n                await lite.claim()\r\n                setLiteState({ forceUpdate: {} })\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    ),\r\n    [lite, state, update],\r\n  )\r\n}\r\n","import { useContext, useReducer, useMemo, useEffect, useState } from 'react'\r\nimport { Context } from '@/store'\r\nimport { ethers } from 'ethers'\r\nimport { useSnackbar } from 'notistack'\r\nimport { FormControl, MenuItem, Select } from '@material-ui/core'\r\nimport { MyButton, AmountInput, AmountShow, ApyFloatMessage } from '@/components/modules'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { iconInfo, iconUsdt, iconUsdc, ArrowForwardIosIcon } from '@/assets/svg'\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {},\r\n  amount: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    marginBottom: '15px',\r\n    '&>div': {\r\n      width: '50%',\r\n    },\r\n    '&>img': {\r\n      marginTop: '40px',\r\n    },\r\n  },\r\n  icon: {\r\n    margin: '0 10px',\r\n  },\r\n  button: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    '&>div': {\r\n      width: 'calc(50% - 15px)',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      '&>button': {\r\n        '&:first-child': {\r\n          marginBottom: '15px',\r\n        },\r\n      },\r\n      //PC\r\n      '@media screen and (min-width:960px)': {\r\n        '&:first-child': {\r\n          flexDirection: 'row',\r\n          justifyContent: 'space-between',\r\n          '&>button': {\r\n            width: 'calc(50% - 10px)',\r\n            marginBottom: '0 !important',\r\n          },\r\n        },\r\n        '&:last-child': {\r\n          '&>button': {\r\n            width: '100%',\r\n            marginBottom: '0 !important',\r\n          },\r\n        },\r\n      },\r\n    },\r\n  },\r\n}))\r\n\r\nexport default function Withdraw(props) {\r\n  const classes = useStyles()\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const {\r\n    state: { LiteContext, registry },\r\n  } = useContext(Context)\r\n  const {\r\n    liteState: { lite, forceUpdate },\r\n    setLiteState,\r\n  } = useContext(LiteContext)\r\n  const [state, setState] = useReducer((s, ns) => ({ ...s, ...ns }), {\r\n    input: {\r\n      clpt: ethers.constants.Zero,\r\n    },\r\n    output: {\r\n      want: ethers.constants.Zero,\r\n      coll: ethers.constants.Zero,\r\n    },\r\n    I: { clpt: '' },\r\n  })\r\n  const [update, setUpdate] = useState({})\r\n  const val = (() => {\r\n    const ctx = { item: {}, action: {} }\r\n    switch (true) {\r\n      case state.input.clpt.eq(0):\r\n        ctx.action.withdraw = 'input to withdraw'\r\n        break\r\n      case state.input.clpt.lt(0):\r\n        ctx.item.iclpt = true\r\n        ctx.action.withdraw = 'negative number'\r\n        break\r\n      case state.input.clpt.gt(lite.state.balance.clpt):\r\n        ctx.item.iclpt = true\r\n        ctx.action.withdraw = 'insufficient balance'\r\n        break\r\n      case state.output.want.eq(0) && state.output.coll.eq(0):\r\n        ctx.item.owant = true\r\n        ctx.action.withdraw = 'unknown error'\r\n        break\r\n      case state.output.want.lt(0):\r\n        ctx.item.owant = true\r\n        ctx.action.withdraw = 'negative number'\r\n        break\r\n      case state.output.coll.lt(0):\r\n        ctx.item.ocoll = true\r\n        ctx.action.withdraw = 'negative number'\r\n        break\r\n      default:\r\n        break\r\n    }\r\n    switch (true) {\r\n      case lite.state.earned.collar.eq(0):\r\n        ctx.action.claim = 'nothing claim'\r\n        break\r\n      default:\r\n        break\r\n    }\r\n    return ctx\r\n  })()\r\n  useEffect(() => {\r\n    ;(async () => {\r\n      const changed = await lite.fetch_state()\r\n      try {\r\n        const clpt = lite.transform('std', 'str', state.I.clpt)\r\n        if (clpt.eq(state.input.clpt) === false) {\r\n          setState({ input: { ...state.input, clpt: clpt } })\r\n          return\r\n        }\r\n      } catch {\r\n        if (ethers.constants.Zero.eq(state.input.clpt) === false) {\r\n          setState({ input: { ...state.input, clpt: ethers.constants.Zero } })\r\n          return\r\n        }\r\n      }\r\n      try {\r\n        const res = await lite.controller().get_dxdy(state.input.clpt)\r\n        const coll = res[0]\r\n        const want = lite.transform('want', 'std', res[1])\r\n        if (want.eq(state.output.want) === false) {\r\n          setState({ output: { ...state.output, want: want } })\r\n          return\r\n        }\r\n        if (coll.eq(state.output.coll) === false) {\r\n          setState({ output: { ...state.output, coll: coll } })\r\n          return\r\n        }\r\n      } catch {\r\n        if (ethers.constants.Zero.eq(state.output.want) === false) {\r\n          setState({ output: { ...state.output, want: ethers.constants.Zero } })\r\n          return\r\n        }\r\n        if (ethers.constants.Zero.eq(state.output.coll) === false) {\r\n          setState({ output: { ...state.output, coll: ethers.constants.Zero } })\r\n          return\r\n        }\r\n      }\r\n      if (changed) {\r\n        setUpdate({})\r\n      }\r\n    })()\r\n  }, [state, lite, forceUpdate])\r\n  return useMemo(\r\n    () => (\r\n      <div className={classes.root}>\r\n        <div className={classes.amount}>\r\n          <div>\r\n            <AmountInput\r\n              title=\"clpt\"\r\n              state={{ state, setState, lite }}\r\n              click={{\r\n                condition: () => lite.state.balance.clpt.gt('0'),\r\n                max: () => {\r\n                  setState({ I: { clpt: lite.transform('str', 'balance', 'clpt') } })\r\n                },\r\n              }}\r\n              style={{ height: '249px' }}\r\n            />\r\n          </div>\r\n          <img alt=\"\" src={ArrowForwardIosIcon} className={classes.icon} />\r\n          <div>\r\n            <AmountShow title=\"want\" state={{ state, lite }} style={{ height: '90px' }} />\r\n            <AmountShow title=\"coll\" state={{ state, lite }} style={{ height: '90px' }} />\r\n          </div>\r\n        </div>\r\n        <ApyFloatMessage\r\n          APY={`todo`}\r\n          info={[\r\n            {\r\n              'Exchange rate': `1CLPT = ${parseFloat(ethers.utils.formatEther(state.output.want)).toFixed(\r\n                3,\r\n              )} WANT + ${0} COLL`,\r\n            },\r\n            {\r\n              'Pool Shares': `${(\r\n                (ethers.utils.formatEther(lite.state.balance.clpt) / ethers.utils.formatEther(lite.state.swap.sk)) *\r\n                100\r\n              ).toPrecision(3)} %`,\r\n            },\r\n            {\r\n              'Pool State': `1 WANT = ${(\r\n                ethers.utils.formatEther(lite.state.swap.sx) / ethers.utils.formatEther(lite.state.swap.sy)\r\n              ).toPrecision(3)} COLL`,\r\n            },\r\n            { Fee: `${0} COLL` },\r\n          ]}\r\n        />\r\n        <div className={classes.button}>\r\n          <div>\r\n            <MyButton\r\n              name=\"Withdraw\"\r\n              onClick={async () => {\r\n                await lite.withdraw(state.input.clpt)\r\n                setLiteState({ forceUpdate: {} })\r\n              }}\r\n            />\r\n            <MyButton\r\n              name=\"Claim\"\r\n              onClick={async () => {\r\n                await lite.claim()\r\n                setLiteState({ forceUpdate: {} })\r\n              }}\r\n            />\r\n          </div>\r\n          <div>\r\n            <MyButton\r\n              name=\"Withdraw & Claim\"\r\n              onClick={async () => {\r\n                await lite.burn_and_claim(state.input.clpt)\r\n                setLiteState({ forceUpdate: {} })\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    ),\r\n    [lite, state, update],\r\n  )\r\n}\r\n","import { useContext, useReducer, useMemo, useEffect, useState } from 'react'\r\nimport { Context } from '@/store'\r\nimport { ethers } from 'ethers'\r\nimport { useSnackbar } from 'notistack'\r\nimport { MyButton, AmountInput, AmountShow, ApyFloatMessage } from '@/components/modules'\r\nimport { FormControl, MenuItem, Select } from '@material-ui/core'\r\nimport { iconInfo, iconUsdt, iconUsdc, ArrowForwardIosIcon } from '@/assets/svg'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {},\r\n  amount: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    marginBottom: '15px',\r\n    '&>div': {\r\n      width: '50%',\r\n    },\r\n    '&>img': {\r\n      marginTop: '40px',\r\n    },\r\n  },\r\n  icon: {\r\n    margin: '0 10px',\r\n  },\r\n  button: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    '&>div': {\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      '&>button': {\r\n        width: 'calc(50% - 15px)',\r\n      },\r\n    },\r\n  },\r\n}))\r\n\r\nexport default function Lend(props) {\r\n  const classes = useStyles()\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const {\r\n    state: { LiteContext, registry },\r\n  } = useContext(Context)\r\n  const {\r\n    liteState: { lite, forceUpdate, want },\r\n    setLiteState,\r\n  } = useContext(LiteContext)\r\n  const [anchorEl, setAnchorEl] = useState(null)\r\n  const [state, setState] = useReducer((s, ns) => ({ ...s, ...ns }), {\r\n    input: {\r\n      want: ethers.constants.Zero,\r\n    },\r\n    output: {\r\n      coll: ethers.constants.Zero,\r\n    },\r\n    I: { want: '' },\r\n  })\r\n  const [update, setUpdate] = useState({})\r\n  const val = (() => {\r\n    const ctx = { item: {}, action: {} }\r\n    switch (true) {\r\n      case state.input.want.eq(0):\r\n        ctx.action.lend = 'input to lend'\r\n        break\r\n      case state.input.want.lt(0):\r\n        ctx.item.iwant = true\r\n        ctx.action.lend = 'negative number'\r\n        break\r\n      case state.input.want.gt(lite.state.balance.want):\r\n        ctx.item.iwant = true\r\n        ctx.action.lend = 'insufficient balance'\r\n        break\r\n      case state.input.want.gt(lite.state.allowance.want):\r\n        ctx.item.iwant = true\r\n        ctx.action.lend = 'approve first'\r\n        break\r\n      case state.output.coll.eq(0):\r\n        ctx.item.ocoll = true\r\n        ctx.action.lend = 'insufficient liquidity'\r\n        break\r\n      case state.output.coll.lt(0):\r\n        ctx.item.ocoll = true\r\n        ctx.action.lend = 'negative number'\r\n        break\r\n      default:\r\n        break\r\n    }\r\n    switch (true) {\r\n      case lite.state.earned.collar.eq(0):\r\n        ctx.action.claim = 'nothing claim'\r\n        break\r\n      default:\r\n        break\r\n    }\r\n    return ctx\r\n  })()\r\n  useEffect(() => {\r\n    ;(async () => {\r\n      await lite.fetch_state()\r\n      try {\r\n        const want = lite.transform('want', 'str', state.I.want)\r\n        if (want.eq(state.input.want) === false) {\r\n          setState({ input: { ...state.input, want: want } })\r\n          return\r\n        }\r\n      } catch {\r\n        if (ethers.constants.Zero.eq(state.input.want) === false) {\r\n          setState({ input: { ...state.input, want: ethers.constants.Zero } })\r\n          return\r\n        }\r\n      }\r\n      try {\r\n        const coll = await lite.controller().get_dx(state.input.want)\r\n        if (coll.eq(state.output.coll) === false) {\r\n          setState({ output: { ...state.output, coll: coll } })\r\n          return\r\n        }\r\n      } catch {\r\n        if (ethers.constants.Zero.eq(state.output.coll) === false) {\r\n          setState({ output: { ...state.output, coll: ethers.constants.Zero } })\r\n          return\r\n        }\r\n      }\r\n      setUpdate({})\r\n    })()\r\n  }, [state, lite, forceUpdate])\r\n  return useMemo(\r\n    () => (\r\n      <div className={classes.root}>\r\n        <div className={classes.amount}>\r\n          <div>\r\n            <AmountInput\r\n              title=\"want\"\r\n              state={{ state, setState, lite }}\r\n              click={{\r\n                condition: () => lite.state.allowance.want.gt('100000000000000000000000000000000'),\r\n                max: () => {\r\n                  setState({ I: { want: lite.transform('str', 'want', null) } })\r\n                },\r\n              }}\r\n              style={{ height: '90px' }}\r\n            />\r\n          </div>\r\n          <img alt=\"\" src={ArrowForwardIosIcon} className={classes.icon} />\r\n          <div>\r\n            <AmountShow title=\"coll\" state={{ state, lite }} style={{ height: '90px' }} />\r\n          </div>\r\n        </div>\r\n        <ApyFloatMessage\r\n          APY={\r\n            lite.state.swap.sk.eq(0)\r\n              ? 'NaN'\r\n              : (\r\n                  ((parseFloat(\r\n                    ethers.utils.formatEther(\r\n                      lite.state.swap.sx\r\n                        .add(lite.state.swap.sk)\r\n                        .mul(ethers.utils.parseEther('1'))\r\n                        .div(\r\n                          lite.state.swap.sy.add(\r\n                            lite.state.swap.sk.mul(lite.pool().swap_sqp).div(ethers.BigNumber.from(1e9)),\r\n                          ),\r\n                        )\r\n                        .sub(ethers.utils.parseEther('1')),\r\n                    ),\r\n                  ) *\r\n                    31556926000) /\r\n                    (lite.expiry_time() - new Date())) *\r\n                  100\r\n                ).toPrecision(3)\r\n          }\r\n          info={[\r\n            {\r\n              Slipage: lite.state.swap.sk.eq(0)\r\n                ? 'NaN'\r\n                : `${(\r\n                    (((parseFloat(\r\n                      ethers.utils.formatEther(\r\n                        lite.state.swap.sx\r\n                          .add(lite.state.swap.sk)\r\n                          .mul(ethers.utils.parseEther('1'))\r\n                          .div(\r\n                            lite.state.swap.sy\r\n                              .add(state.input.want)\r\n                              .add(lite.state.swap.sk.mul(lite.pool().swap_sqp).div(ethers.BigNumber.from(1e9))),\r\n                          )\r\n                          .sub(ethers.utils.parseEther('1')),\r\n                      ),\r\n                    ) -\r\n                      parseFloat(\r\n                        ethers.utils.formatEther(\r\n                          lite.state.swap.sx\r\n                            .add(lite.state.swap.sk)\r\n                            .mul(ethers.utils.parseEther('1'))\r\n                            .div(\r\n                              lite.state.swap.sy.add(\r\n                                lite.state.swap.sk.mul(lite.pool().swap_sqp).div(ethers.BigNumber.from(1e9)),\r\n                              ),\r\n                            )\r\n                            .sub(ethers.utils.parseEther('1')),\r\n                        ),\r\n                      )) *\r\n                      31556926000) /\r\n                      (lite.expiry_time() - new Date())) *\r\n                    100\r\n                  ).toPrecision(3)} %`,\r\n            },\r\n            { 'Minimal Recieve': `${(ethers.utils.formatEther(state.output.coll) * 0.995).toFixed(3)} COLL` },\r\n            { Rounte: `${registry.token[want].symbol} -> COLL` },\r\n            {\r\n              Fee: `${\r\n                lite.state.swap.sk.eq(0)\r\n                  ? '0'\r\n                  : (\r\n                      ethers.utils.formatEther(state.output.coll) *\r\n                      (1 - ethers.utils.formatEther(lite.state.swap.fee))\r\n                    ).toFixed(4)\r\n              } COLL`,\r\n            },\r\n          ]}\r\n        />\r\n        <div className={classes.button}>\r\n          <div>\r\n            <MyButton\r\n              name=\"Approve\"\r\n              onClick={async () => {\r\n                await lite.approve('want')\r\n                setLiteState({ forceUpdate: {} })\r\n              }}\r\n            />\r\n            <MyButton\r\n              name=\"Lend\"\r\n              onClick={async () => {\r\n                await lite.lend(state.input.want, state.output.coll)\r\n                setLiteState({ forceUpdate: {} })\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    ),\r\n    [lite, state, update],\r\n  )\r\n}\r\n","import { useContext, useReducer, useMemo, useEffect, useState } from 'react'\r\nimport { Context } from '@/store'\r\nimport { ethers } from 'ethers'\r\nimport { useSnackbar } from 'notistack'\r\nimport { MyButton, AmountInput, AmountShow, ApyFloatMessage } from '@/components/modules'\r\nimport { FormControl, MenuItem, Select } from '@material-ui/core'\r\nimport { iconInfo, iconUsdt, iconUsdc, ArrowForwardIosIcon } from '@/assets/svg'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {},\r\n  amount: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    marginBottom: '15px',\r\n    '&>div': {\r\n      width: '50%',\r\n    },\r\n    '&>img': {\r\n      marginTop: '40px',\r\n    },\r\n  },\r\n  icon: {\r\n    margin: '0 10px',\r\n  },\r\n  button: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    '&>div': {\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      '&>button': {\r\n        width: 'calc(50% - 15px)',\r\n      },\r\n    },\r\n  },\r\n}))\r\n\r\nexport default function Exit(props) {\r\n  const classes = useStyles()\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const {\r\n    state: { LiteContext, registry },\r\n  } = useContext(Context)\r\n  const {\r\n    liteState: { lite, forceUpdate, want },\r\n    setLiteState,\r\n  } = useContext(LiteContext)\r\n  const [state, setState] = useReducer((s, ns) => ({ ...s, ...ns }), {\r\n    input: {\r\n      coll: ethers.constants.Zero,\r\n    },\r\n    output: {\r\n      want: ethers.constants.Zero,\r\n    },\r\n    I: { coll: '' },\r\n  })\r\n  const [update, setUpdate] = useState({})\r\n  const val = (() => {\r\n    const ctx = { item: {}, action: {} }\r\n    switch (true) {\r\n      case state.input.coll.eq(0):\r\n        ctx.action.redeem = 'input to redeem'\r\n        break\r\n      case state.input.coll.lt(0):\r\n        ctx.item.icoll = true\r\n        ctx.action.redeem = 'negative number'\r\n        break\r\n      case state.input.coll.gt(lite.state.balance.coll):\r\n        ctx.item.icoll = true\r\n        ctx.action.redeem = 'insufficient balance'\r\n        break\r\n      case state.output.want.eq(0):\r\n        ctx.item.owant = true\r\n        ctx.action.redeem = 'insufficient liquidity'\r\n        break\r\n      case state.output.want.lt(0):\r\n        ctx.item.owant = true\r\n        ctx.action.redeem = 'negative number'\r\n        break\r\n      default:\r\n        break\r\n    }\r\n    switch (true) {\r\n      case lite.state.earned.collar.eq(0):\r\n        ctx.action.claim = 'nothing claim'\r\n        break\r\n      default:\r\n        break\r\n    }\r\n    return ctx\r\n  })()\r\n  useEffect(() => {\r\n    ;(async () => {\r\n      await lite.fetch_state()\r\n      try {\r\n        const coll = lite.transform('std', 'str', state.I.coll)\r\n        if (coll.eq(state.input.coll) === false) {\r\n          setState({ input: { ...state.input, coll: coll } })\r\n          return\r\n        }\r\n      } catch {\r\n        if (ethers.constants.Zero.eq(state.input.coll) === false) {\r\n          setState({ input: { ...state.input, coll: ethers.constants.Zero } })\r\n          return\r\n        }\r\n      }\r\n      try {\r\n        const want = lite.transform('want', 'std', await lite.controller().get_dy(state.input.coll))\r\n        if (want.eq(state.output.want) === false) {\r\n          setState({ output: { ...state.output, want: want } })\r\n          return\r\n        }\r\n      } catch {\r\n        if (ethers.constants.Zero.eq(state.output.want) === false) {\r\n          setState({ output: { ...state.output, want: ethers.constants.Zero } })\r\n          return\r\n        }\r\n      }\r\n      setUpdate({})\r\n    })()\r\n  }, [state, lite, forceUpdate])\r\n  return useMemo(\r\n    () => (\r\n      <div className={classes.root}>\r\n        <div className={classes.amount}>\r\n          <div>\r\n            <AmountInput\r\n              title=\"coll\"\r\n              state={{ state, setState, lite }}\r\n              click={{\r\n                condition: () => lite.state.balance.coll.gt('0'),\r\n                max: () => {\r\n                  setState({ I: { coll: lite.transform('str', 'balance', 'coll') } })\r\n                },\r\n              }}\r\n              style={{ height: '90px' }}\r\n            />\r\n          </div>\r\n          <img alt=\"\" src={ArrowForwardIosIcon} className={classes.icon} />\r\n          <div>\r\n            <AmountShow title=\"want\" state={{ state, lite }} style={{ height: '90px' }} />\r\n          </div>\r\n        </div>\r\n        <ApyFloatMessage\r\n          APY={\r\n            lite.state.swap.sk.eq(0)\r\n              ? 'NaN'\r\n              : (\r\n                  ((parseFloat(\r\n                    ethers.utils.formatEther(\r\n                      lite.state.swap.sx\r\n                        .add(lite.state.swap.sk)\r\n                        .mul(ethers.utils.parseEther('1'))\r\n                        .div(\r\n                          lite.state.swap.sy.add(\r\n                            lite.state.swap.sk.mul(lite.pool().swap_sqp).div(ethers.BigNumber.from(1e9)),\r\n                          ),\r\n                        )\r\n                        .sub(ethers.utils.parseEther('1')),\r\n                    ),\r\n                  ) *\r\n                    31556926000) /\r\n                    (lite.expiry_time() - new Date())) *\r\n                  100\r\n                ).toPrecision(3)\r\n          }\r\n          info={[\r\n            {\r\n              Slipage: lite.state.swap.sk.eq(0)\r\n                ? 'NaN'\r\n                : `${(\r\n                    (((parseFloat(\r\n                      ethers.utils.formatEther(\r\n                        lite.state.swap.sx\r\n                          .add(lite.state.swap.sk)\r\n                          .mul(ethers.utils.parseEther('1'))\r\n                          .div(\r\n                            lite.state.swap.sy\r\n                              .add(state.output.want)\r\n                              .add(lite.state.swap.sk.mul(lite.pool().swap_sqp).div(ethers.BigNumber.from(1e9))),\r\n                          )\r\n                          .sub(ethers.utils.parseEther('1')),\r\n                      ),\r\n                    ) -\r\n                      parseFloat(\r\n                        ethers.utils.formatEther(\r\n                          lite.state.swap.sx\r\n                            .add(lite.state.swap.sk)\r\n                            .mul(ethers.utils.parseEther('1'))\r\n                            .div(\r\n                              lite.state.swap.sy.add(\r\n                                lite.state.swap.sk.mul(lite.pool().swap_sqp).div(ethers.BigNumber.from(1e9)),\r\n                              ),\r\n                            )\r\n                            .sub(ethers.utils.parseEther('1')),\r\n                        ),\r\n                      )) *\r\n                      31556926000) /\r\n                      (lite.expiry_time() - new Date())) *\r\n                    100\r\n                  ).toPrecision(3)} %`,\r\n            },\r\n            {\r\n              'Minimal Recieve': `${(ethers.utils.formatEther(state.output.want) * 0.995).toFixed(3)} ${\r\n                registry.token[want].symbol\r\n              }`,\r\n            },\r\n            { Rounte: `COLL -> ${registry.token[want].symbol}` },\r\n            {\r\n              Fee: `${(ethers.utils.formatEther(state.output.want) * 0.995).toFixed(3)} ${\r\n                registry.token[want].symbol\r\n              } `,\r\n            },\r\n          ]}\r\n        />\r\n        <div className={classes.button}>\r\n          <div>\r\n            <MyButton\r\n              name=\"Approve\"\r\n              onClick={() => {\r\n                console.log('Approve')\r\n              }}\r\n            />\r\n            <MyButton\r\n              name=\"Exit\"\r\n              onClick={async () => {\r\n                await lite.redeem(state.output.want, state.input.coll)\r\n                setLiteState({ forceUpdate: {} })\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    ),\r\n    [lite, state, update],\r\n  )\r\n}\r\n","import { useContext, useEffect, useState } from 'react'\r\nimport { Context } from '@/store'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { ethers } from 'ethers'\r\nimport { InfoCard1, InfoCard2, InfoCard3 } from '@/components/modules'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    marginTop: '-10px',\r\n    display: 'flex',\r\n    background: 'none !important',\r\n    flexDirection: 'column',\r\n    '&>div': {\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      '&>div': {\r\n        width: 'calc(50% - 10px)',\r\n      },\r\n    },\r\n  },\r\n}))\r\n\r\nexport default function Info() {\r\n  const classes = useStyles()\r\n  const {\r\n    state: { registry, LiteContext },\r\n  } = useContext(Context)\r\n  const {\r\n    liteState: { lite, forceUpdate },\r\n    setLiteState,\r\n  } = useContext(LiteContext)\r\n\r\n  const [update, setUpdate] = useState({})\r\n\r\n  useEffect(() => {\r\n    ;(async () => {\r\n      await lite.fetch_state()\r\n      setUpdate({})\r\n    })()\r\n  }, [lite, forceUpdate])\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div>\r\n        <InfoCard1\r\n          token={lite.transform('token', '', 'bond').symbol}\r\n          status={lite.state.allowance.bond.gt('100000000000000000000000000000000') ? 'APPROVED' : 'NOT APPROVED'}\r\n          amount={lite.transform('str', 'balance', 'bond')}\r\n        />\r\n        <InfoCard1\r\n          token={lite.transform('token', '', 'want').symbol}\r\n          status={lite.state.allowance.want.gt('100000000000000000000000000000000') ? 'APPROVED' : 'NOT APPROVED'}\r\n          amount={lite.transform('str', 'balance', 'want')}\r\n        />\r\n      </div>\r\n      <div>\r\n        <InfoCard1\r\n          token={lite.transform('token', '', 'call').symbol}\r\n          status=\"TOTAL BORROW\"\r\n          amount={lite.transform('str', 'balance', 'call')}\r\n        />\r\n\r\n        <InfoCard1\r\n          token={lite.transform('token', '', 'coll').symbol}\r\n          status=\"TOTAL LEND\"\r\n          amount={lite.transform('str', 'balance', 'coll')}\r\n        />\r\n      </div>\r\n      <div>\r\n        <InfoCard1\r\n          token={lite.transform('token', '', 'clpt').symbol}\r\n          status=\"LP TOKEN\"\r\n          amount={lite.transform('str', 'balance', 'clpt')}\r\n        />\r\n\r\n        <InfoCard1\r\n          token={lite.transform('token', '', 'collar').symbol}\r\n          status={`${parseFloat(lite.transform('str', 'std', lite.state.earned.collar)).toFixed(4)} EARNED`}\r\n          amount={lite.transform('str', 'balance', 'collar')}\r\n        />\r\n      </div>\r\n      <div>\r\n        <InfoCard2\r\n          title=\"Interest Rate\"\r\n          data={\r\n            lite.state.swap.sk.eq(0)\r\n              ? 'NaN'\r\n              : ((parseFloat(\r\n                  ethers.utils.formatEther(\r\n                    lite.state.swap.sx\r\n                      .add(lite.state.swap.sk)\r\n                      .mul(ethers.utils.parseEther('1'))\r\n                      .div(\r\n                        lite.state.swap.sy.add(\r\n                          lite.state.swap.sk.mul(lite.pool().swap_sqp).div(ethers.BigNumber.from(1e9)),\r\n                        ),\r\n                      )\r\n                      .sub(ethers.utils.parseEther('1')),\r\n                  ),\r\n                ) *\r\n                  31556926000) /\r\n                  (lite.expiry_time() - new Date())) *\r\n                100\r\n          }\r\n          info=\"FOR BOTH LENDING AND BORROWING\"\r\n        />\r\n        <InfoCard2 title=\"FARM APY\" data=\"---\" info=\"---\" />\r\n      </div>\r\n      <div>\r\n        <InfoCard2\r\n          title=\"Expiry\"\r\n          data={lite.expiry_time().toLocaleString()}\r\n          info=\"REPAY BEFORE THIS TIME\"\r\n          styles={{ color: '#FF5C5C' }}\r\n          noHr={true}\r\n        />\r\n        <InfoCard3\r\n          title=\"Fee\"\r\n          data1=\"0.01% for BORROW, WITHDRAW, LEND and REDEEM\"\r\n          data2=\"0% for REPAY and DEPOSIT\"\r\n          noHr={true}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { useContext, useReducer, useEffect } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Context } from '@/store'\r\nimport { FormControl, InputLabel, Box, Select, MenuItem } from '@material-ui/core'\r\nimport { iconInfo, ArrowForwardIosIcon } from '@/assets/svg'\r\nimport { iconUsdt, iconUsdc } from '@/assets/svg/token'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {},\r\n  formControlTitle: {\r\n    fontFamily: 'Helvetica',\r\n    fontSize: '0.8em',\r\n    display: 'block',\r\n    margin: '10px 0',\r\n    color: '#30384B',\r\n  },\r\n  formControlList: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    '&>div': {\r\n      backgroundColor: '#F4F4F4',\r\n      '&>div': {\r\n        lineHeight: 'unset',\r\n      },\r\n      '&>div::before': {\r\n        border: 'none',\r\n      },\r\n    },\r\n  },\r\n  formControl: {\r\n    // minWidth: 120,\r\n    width: '50%',\r\n    '& span': {\r\n      fontFamily: 'Gillsans',\r\n    },\r\n  },\r\n  icon: {\r\n    margin: '0 10px',\r\n  },\r\n  select: {\r\n    '&>div': {\r\n      '& span,& img': {\r\n        verticalAlign: 'middle',\r\n      },\r\n    },\r\n  },\r\n}))\r\nconst iconToken = {\r\n  USDT: iconUsdt,\r\n  USDC: iconUsdc,\r\n}\r\nexport default function PoolSelector() {\r\n  const classes = useStyles()\r\n  const {\r\n    state: { LiteContext, registry },\r\n    setState,\r\n  } = useContext(Context)\r\n  const {\r\n    liteState: { lite, poolList, bond, want, bondList, wantList },\r\n    setLiteState,\r\n  } = useContext(LiteContext)\r\n\r\n  useEffect(() => {\r\n    const wantList = poolList.filter((val) => val.bondToken == bond).map((val) => val.wantToken)\r\n    setLiteState({ wantList, want: wantList[0] || 0 })\r\n  }, [bond])\r\n\r\n  useEffect(() => {\r\n    const pool = poolList.filter((val) => val.bondToken == bond && val.wantToken == want)[0]\r\n    pool && lite.reset(null, () => pool.id)\r\n    setLiteState({ forceUpdate: {} })\r\n  }, [want])\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <span className={classes.formControlTitle}>Selector Pair</span>\r\n      <div className={classes.formControlList}>\r\n        <FormControl className={classes.formControl}>\r\n          <Select\r\n            value={bond}\r\n            onChange={(e) => {\r\n              setLiteState({ bond: e.target.value })\r\n            }}\r\n            className={classes.select}\r\n            IconComponent={ExpandMoreIcon}\r\n          >\r\n            {bondList.length ? (\r\n              bondList.map((val, key) => {\r\n                const symbol = registry.token[val].symbol\r\n                return (\r\n                  <MenuItem value={val} key={key}>\r\n                    <img alt=\"\" src={iconToken[symbol]} className={classes.icon} style={{ width: '20px' }} />\r\n                    <span style={{ fontFamily: 'Gillsans' }}>{symbol}</span>\r\n                  </MenuItem>\r\n                )\r\n              })\r\n            ) : (\r\n              <MenuItem value={0}></MenuItem>\r\n            )}\r\n          </Select>\r\n        </FormControl>\r\n\r\n        <img alt=\"\" src={ArrowForwardIosIcon} className={classes.icon} />\r\n\r\n        <FormControl className={classes.formControl}>\r\n          <Select\r\n            value={want}\r\n            onChange={(e) => setLiteState({ want: e.target.value })}\r\n            className={classes.select}\r\n            IconComponent={ExpandMoreIcon}\r\n          >\r\n            {wantList.length ? (\r\n              wantList.map((val, key) => {\r\n                const symbol = registry.token[val].symbol\r\n                return (\r\n                  <MenuItem value={val} key={key}>\r\n                    <img alt=\"\" src={iconToken[symbol]} className={classes.icon} style={{ width: '20px' }} />\r\n                    <span style={{ fontFamily: 'Gillsans' }}>{symbol}</span>\r\n                  </MenuItem>\r\n                )\r\n              })\r\n            ) : (\r\n              <MenuItem value={0}></MenuItem>\r\n            )}\r\n          </Select>\r\n        </FormControl>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { useContext, useReducer, useState, useEffect, useMemo } from 'react'\r\nimport { Context } from '@/store'\r\nimport LiteRegistry from '../libraries/lite'\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\r\nimport { Accordion, AccordionSummary, AccordionDetails, Tabs, Tab, Box, Switch } from '@material-ui/core'\r\nimport { Borrow, Repay, Deposit, Withdraw, Lend, Exit, Info, PoolSelector } from '@/components/Content'\r\nimport { useSnackbar } from 'notistack'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    '&>div': {\r\n      position: 'relative',\r\n      backgroundColor: 'white',\r\n      '&:first-child': {\r\n        zIndex: '4',\r\n        margin: '20px 20px 0 20px',\r\n      },\r\n      '&:nth-child(2)': {\r\n        zIndex: '2',\r\n        transform: 'translateY(-13px)',\r\n        boxSizing: 'border-box',\r\n        border: '#4C4C4C 2px solid',\r\n        height: '20px',\r\n        width: 'calc(100% - 60px)',\r\n      },\r\n      '&:nth-child(3)': {\r\n        zIndex: '1',\r\n        transform: 'translateY(-26px)',\r\n        boxSizing: 'border-box',\r\n        border: '#4C4C4C 2px solid',\r\n        height: '20px',\r\n        width: 'calc(100% - 80px)',\r\n      },\r\n      //Mobile\r\n      '@media screen and (max-width:960px)': {\r\n        width: 'calc(100% - 40px)',\r\n      },\r\n      //PC\r\n      '@media screen and (min-width:960px)': {\r\n        width: '900px',\r\n        '&:nth-child(2)': {\r\n          width: '880px',\r\n        },\r\n        '&:nth-child(3)': {\r\n          width: '860px',\r\n        },\r\n      },\r\n    },\r\n  },\r\n  content: {\r\n    zIndex: '3',\r\n    position: 'relative',\r\n    backgroundColor: 'white',\r\n    border: '#4C4C4C 2px solid',\r\n    borderTop: 'none',\r\n    padding: '15px',\r\n  },\r\n  '@global': {\r\n    '.MuiTab-textColorInherit': {\r\n      opacity: '1',\r\n    },\r\n    '.Tabs .Mui-selected': {\r\n      backgroundColor: 'white',\r\n      border: '#4c4c4c 2px solid',\r\n      '&>span': {\r\n        color: '#30384b',\r\n      },\r\n    },\r\n    '.Tabschild .Mui-selected': {\r\n      '&>span': {\r\n        color: '#275bff',\r\n      },\r\n    },\r\n  },\r\n}))\r\nconst MyAccordion = withStyles({\r\n  root: {\r\n    backgroundColor: '#EDF2FF',\r\n    color: '#4975FF',\r\n    boxShadow: 'none',\r\n    margin: '0 !important',\r\n    borderRadius: '10px',\r\n    '&>div:first-child': {\r\n      minHeight: 0,\r\n      height: 0,\r\n    },\r\n    '&>div:last-child div': {\r\n      padding: '3px',\r\n      fontSize: '15px',\r\n      fontFamily: 'Helvetica',\r\n    },\r\n    '&:before': {\r\n      background: 'none',\r\n    },\r\n  },\r\n})((props) => (\r\n  <Accordion {...props} expanded={props.expanded}>\r\n    <AccordionSummary />\r\n    <AccordionDetails>{props.info}</AccordionDetails>\r\n  </Accordion>\r\n))\r\nconst MyTabs = withStyles({\r\n  root: {\r\n    minHeight: '0',\r\n  },\r\n  flexContainer: {\r\n    height: '35px',\r\n    backgroundColor: '#c1c1c1',\r\n    '&>button': {\r\n      minHeight: '0',\r\n      padding: '0 15px',\r\n      marginRight: '0',\r\n      boxSizing: 'content-box',\r\n      border: '#c1c1c1 2px solid',\r\n      borderBottom: '#4c4c4c 2px solid',\r\n      '&>span': {\r\n        fontFamily: 'Gillsans',\r\n        color: '#fff',\r\n        alignItems: 'start',\r\n      },\r\n      '&:first-child': {\r\n        borderLeft: '#4c4c4c 2px solid',\r\n      },\r\n      '&:last-child': {\r\n        borderRight: '#4c4c4c 2px solid',\r\n      },\r\n    },\r\n  },\r\n  indicator: {\r\n    backgroundColor: '#fff',\r\n    width: 'calc(33.33% - 4px) !important',\r\n    marginLeft: '2px',\r\n  },\r\n})((props) => {\r\n  return (\r\n    <div style={{ position: 'relative' }}>\r\n      <Tabs {...props} variant=\"fullWidth\">\r\n        {props.labels.map((v, k) => (\r\n          <Tab key={k} label={v} />\r\n        ))}\r\n      </Tabs>\r\n    </div>\r\n  )\r\n})\r\nconst MyTabsChild = withStyles({\r\n  root: {\r\n    minHeight: '0',\r\n    display: 'block',\r\n  },\r\n  scroller: {\r\n    height: '35px',\r\n  },\r\n  flexContainer: {\r\n    '&>button': {\r\n      fontFamily: 'Gillsans',\r\n      minHeight: '0',\r\n      padding: '0',\r\n      textTransform: 'capitalize',\r\n      fontWeight: 'bold',\r\n      fontSize: '1.1em',\r\n      color: '#30384B',\r\n      '&>span': {\r\n        alignItems: 'start',\r\n      },\r\n    },\r\n  },\r\n  fixed: {\r\n    width: 'auto',\r\n  },\r\n  indicator: {\r\n    backgroundColor: '#275BFF',\r\n    height: '5px',\r\n    width: '20% !important',\r\n    zIndex: '1',\r\n  },\r\n})((props) => {\r\n  const [expanded, setExpanded] = useState(true)\r\n  const { round, setRound } = props.round\r\n  const classes = makeStyles((theme) => ({\r\n    root: { position: 'relative' },\r\n    button: {\r\n      position: 'absolute',\r\n      top: '2px',\r\n      right: 0,\r\n    },\r\n    switch: {\r\n      transform: 'translateY(-8px)',\r\n    },\r\n    expanded: {\r\n      background: 'none',\r\n      border: 'none',\r\n      padding: 0,\r\n    },\r\n    hr: {\r\n      position: 'absolute',\r\n      top: '24px',\r\n      width: '100%',\r\n      zIndex: '0',\r\n      borderBottom: '#D8D8D8 1px solid',\r\n      borderTop: 'none',\r\n    },\r\n  }))()\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.button}>\r\n        <Switch checked={round} onChange={() => setRound(!round)} className={classes.switch} />\r\n        <button onClick={() => setExpanded(!expanded)} className={classes.expanded}>\r\n          {expanded ? <ExpandLessIcon /> : <ExpandMoreIcon />}\r\n        </button>\r\n      </div>\r\n      <Tabs {...props} variant=\"standard\">\r\n        {props.labels.map((v, k) => (\r\n          <Tab disableRipple key={k} label={v} />\r\n        ))}\r\n      </Tabs>\r\n      <hr className={classes.hr} />\r\n      <MyAccordion expanded={expanded} info={props.info} />\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default function Lite() {\r\n  const classes = useStyles()\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const {\r\n    state: { registry, signer, LiteContext },\r\n    setState,\r\n  } = useContext(Context)\r\n  const [liteState, setLiteState] = useReducer((s, ns) => ({ ...s, ...ns }), {\r\n    tabs: 0,\r\n    tabsChild: 0,\r\n    round: false,\r\n    poolList: [],\r\n    bond: 0,\r\n    bondList: [],\r\n    want: 0,\r\n    wantList: [],\r\n    lite: new LiteRegistry(\r\n      () => registry,\r\n      () => registry.address.default,\r\n      () => signer,\r\n      console.log,\r\n      enqueueSnackbar,\r\n    ),\r\n    forceUpdate: {},\r\n  })\r\n  useEffect(() => {\r\n    const bondList = new Set()\r\n    const poolList = []\r\n    Object.keys(registry.pool).map((id, key) => {\r\n      const pool = registry.pool[id]\r\n      bondList.add(pool.addr_bond)\r\n      poolList.push({ id, bondToken: pool.addr_bond, wantToken: pool.addr_want })\r\n    })\r\n    setLiteState({ bondList: Array.from(bondList), poolList, bond: lite.pool().addr_bond })\r\n  }, [])\r\n  useEffect(() => {\r\n    lite.reset(null, null, () => signer)\r\n    setLiteState({ forceUpdate: {} })\r\n  }, [signer])\r\n\r\n  const { tabs, tabsChild, round, lite } = liteState\r\n  const tabsList = ['LOAN', 'FARM', 'SWAP']\r\n  const tabsChildList = [\r\n    ['Borrow', 'Repay'],\r\n    ['Deposit', 'Withdraw'],\r\n    ['Lend', 'Exit'],\r\n  ][tabs]\r\n  const Content = [\r\n    [Borrow, Repay],\r\n    [Deposit, Withdraw],\r\n    [Lend, Exit],\r\n  ][tabs][tabsChild]\r\n\r\n  return (\r\n    <LiteContext.Provider value={{ liteState, setLiteState }}>\r\n      <div className={classes.root}>\r\n        <div>\r\n          <MyTabs\r\n            className=\"Tabs\"\r\n            value={tabs}\r\n            onChange={(_, v) => setLiteState({ tabs: v, tabsChild: 0 })}\r\n            labels={tabsList}\r\n          />\r\n          <div className={classes.content}>\r\n            <MyTabsChild\r\n              className=\"Tabschild\"\r\n              value={tabsChild}\r\n              onChange={(_, v) => setLiteState({ tabsChild: v })}\r\n              labels={tabsChildList}\r\n              info={lite.info(tabsChildList[tabsChild])}\r\n              round={{ round, setRound: (round) => setLiteState({ round }) }}\r\n            />\r\n            <PoolSelector />\r\n            <Content />\r\n          </div>\r\n        </div>\r\n        <div></div>\r\n        <div></div>\r\n        <Info />\r\n      </div>\r\n    </LiteContext.Provider>\r\n  )\r\n}\r\n","import { Box } from '@material-ui/core'\r\nexport default function Pro() {\r\n  return (\r\n    <Box\r\n      display=\"flex\"\r\n      flexDirection=\"column\"\r\n      height=\"80vh\"\r\n      width=\"100vw\"\r\n      textAlign=\"center\"\r\n      justifyContent=\"center\"\r\n      color=\"white\"\r\n      fontSize=\"30px\"\r\n    >\r\n      TODO\r\n    </Box>\r\n  )\r\n}\r\n","import { ethers } from 'ethers'\r\nimport { useContext, useRef } from 'react'\r\nimport { Context } from '@/store'\r\n\r\nimport { createRef } from 'react'\r\nimport { ReactTerminal } from 'react-terminal'\r\nimport { TerminalContextProvider } from 'react-terminal'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Box from '@material-ui/core/Box'\r\nimport Fab from '@material-ui/core/Fab'\r\n\r\nconst ABI = {\r\n  ERC20: [\r\n    'function balanceOf(address owner) view returns (uint256)',\r\n    'function decimals() view returns (uint8)',\r\n    'function symbol() view returns (string)',\r\n    'function transfer(address to, uint amount) returns (boolean)',\r\n    'event Transfer(address indexed from, address indexed to, uint amount)',\r\n  ],\r\n}\r\n\r\nexport default function Term() {\r\n  const {\r\n    state: { signer, registry },\r\n    setState,\r\n  } = useContext(Context)\r\n\r\n  const REF = useRef()\r\n  const cmds = {}\r\n  cmds['get-help'] = async (msg) => {\r\n    if (msg === null) {\r\n      return (\r\n        <Box>\r\n          <p>print help messages.</p>\r\n          <p>usage:</p>\r\n          <p>\r\n            <b>get-help</b> --- show collar console help{' '}\r\n          </p>\r\n          <p>\r\n            <b>get-help %CMD% </b> --- show help infomation of CMD\r\n          </p>\r\n        </Box>\r\n      )\r\n    }\r\n    if (msg === '') {\r\n      return (\r\n        <Box>\r\n          <p>collar console provides a terminal for users to use collar protocol.</p>\r\n          <p>\r\n            type <b>list-commands</b> to see all available commands\r\n          </p>\r\n          <p>\r\n            type <b>get-help %CMD%</b> to see the help infomation of CMD\r\n          </p>\r\n        </Box>\r\n      )\r\n    }\r\n    return cmds[msg](null)\r\n  }\r\n  cmds['alert-message'] = async (msg) => {\r\n    if (msg === null) {\r\n      return (\r\n        <Box>\r\n          <p>show an alert message.</p>\r\n          <p>usage:</p>\r\n          <p>\r\n            <b>alert-message %MSG% </b> --- alert MSG\r\n          </p>\r\n        </Box>\r\n      )\r\n    }\r\n    alert(msg)\r\n  }\r\n  cmds['list-commands'] = async (msg) => {\r\n    if (msg === null) {\r\n      return (\r\n        <Box>\r\n          <p>list all commands.</p>\r\n          <p>usage:</p>\r\n          <p>\r\n            <b>list-commands</b> --- list all commands\r\n          </p>\r\n        </Box>\r\n      )\r\n    }\r\n    return (\r\n      <Box>\r\n        {Object.keys(this.cmds).map((k) => (\r\n          <li key={k}>{k}</li>\r\n        ))}\r\n      </Box>\r\n    )\r\n  }\r\n  cmds['hello-collar'] = async (msg) => {\r\n    if (msg === null) {\r\n      return (\r\n        <Box>\r\n          <p>show welcome message.</p>\r\n          <p>usage:</p>\r\n          <p>\r\n            <b>hellow-collar</b> --- show welcome message\r\n          </p>\r\n        </Box>\r\n      )\r\n    }\r\n    return (\r\n      <Box>\r\n        <p>e a beleza</p>\r\n      </Box>\r\n    )\r\n  }\r\n  cmds['get-address'] = async (msg) => {\r\n    if (msg === null) {\r\n      return (\r\n        <Box>\r\n          <p>show current account address connected.</p>\r\n          <p>usage:</p>\r\n          <p>\r\n            <b>get-address</b> --- show current account address connected\r\n          </p>\r\n        </Box>\r\n      )\r\n    }\r\n    if (signer === null) {\r\n      return (\r\n        <Box>\r\n          <p>connect wallet first please.</p>\r\n        </Box>\r\n      )\r\n    }\r\n    const address = await signer.getAddress()\r\n    return (\r\n      <Box>\r\n        <p>{address}</p>\r\n      </Box>\r\n    )\r\n  }\r\n  cmds['get-balance'] = async (msg) => {\r\n    if (msg === null) {\r\n      return (\r\n        <Box>\r\n          <p>show current account balance connected.</p>\r\n          <p>usage:</p>\r\n          <p>\r\n            <b>get-balance</b> --- show current account ETH balance\r\n          </p>\r\n        </Box>\r\n      )\r\n    }\r\n    if (signer === null) {\r\n      return (\r\n        <Box>\r\n          <p>connect wallet first please.</p>\r\n        </Box>\r\n      )\r\n    }\r\n    const balance = await signer.getBalance()\r\n    return (\r\n      <Box>\r\n        <p>{`${ethers.utils.formatEther(balance)} ether`}</p>\r\n      </Box>\r\n    )\r\n  }\r\n  cmds['transfer-erc20'] = async (msg) => {\r\n    if (msg === null) {\r\n      return (\r\n        <Box>\r\n          <p>transfer erc20 token.</p>\r\n          <p>usage:</p>\r\n          <p>\r\n            <b>transfer-erc20 %TOKEN% %RECEIVER% %AMOUNT% %DECIMALS%</b> --- transfer erc20 token (default: DECIMALS =\r\n            18)\r\n          </p>\r\n        </Box>\r\n      )\r\n    }\r\n    if (signer === null) {\r\n      return (\r\n        <Box>\r\n          <p>connect wallet first please.</p>\r\n        </Box>\r\n      )\r\n    }\r\n    let [token, receiver, amount, decimals] = msg.split(' ')\r\n    decimals = decimals || 18\r\n    const erc20 = new ethers.Contract(token, ABI.ERC20)\r\n    const tx = await erc20.connect(signer).transfer(receiver, ethers.utils.parseUnits(amount, decimals))\r\n    return (\r\n      <Box>\r\n        <p>{tx.hash}</p>\r\n      </Box>\r\n    )\r\n  }\r\n  cmds['get-erc20-balance'] = async (msg) => {\r\n    if (msg === null) {\r\n      return (\r\n        <Box>\r\n          <p>get erc20 balance of an account.</p>\r\n          <p>usage:</p>\r\n          <p>\r\n            <b>get-erc20-balance %TOKEN% %ADDRESS% </b> --- get erc20 balance (default: ADDRESS = current address)\r\n          </p>\r\n        </Box>\r\n      )\r\n    }\r\n    if (signer === null) {\r\n      return (\r\n        <Box>\r\n          <p>connect wallet first please.</p>\r\n        </Box>\r\n      )\r\n    }\r\n    let [token, address] = msg.split(' ')\r\n    address = address || (await signer.getAddress())\r\n    const erc20 = new ethers.Contract(token, ABI.ERC20)\r\n    const value = await erc20.connect(signer).balanceOf(address)\r\n    const decimals = await erc20.connect(signer).decimals()\r\n    return (\r\n      <Box>\r\n        <p>{ethers.utils.formatUnits(value, decimals)}</p>\r\n      </Box>\r\n    )\r\n  }\r\n\r\n  const paste_command = async () => {\r\n    const e = new MouseEvent('mousedown', {\r\n      view: window,\r\n      bubbles: true,\r\n      cancelable: true,\r\n    })\r\n    Object.defineProperty(e, 'target', { value: REF.current.firstChild, enumerable: true })\r\n    document.dispatchEvent(e)\r\n    const cmd = await navigator.clipboard.readText()\r\n    for (const i in cmd) {\r\n      const e = new KeyboardEvent('keydown', {\r\n        bubbles: true,\r\n        cancelable: true,\r\n        key: cmd[i],\r\n        char: cmd[i],\r\n        shiftKey: true,\r\n      })\r\n      document.dispatchEvent(e)\r\n    }\r\n  }\r\n\r\n  const welcome = (\r\n    <Typography component=\"code\">\r\n      <Box fontFamily=\"Monospace\" align=\"center\" fontSize=\"h6.fontSize\" m={1}>\r\n        Collar Console\r\n      </Box>\r\n      <Box fontFamily=\"Monospace\" align=\"center\" fontSize=\"h6.fontSize\" m={1}>\r\n        USE AT YOUR OWN RISK\r\n      </Box>\r\n      <Box fontFamily=\"Monospace\" align=\"center\" fontSize=\"h6.fontSize\" m={1}>\r\n        <span sytle={{ whiteSpace: 'nowrap' }}>type `get-help` to get started :)</span>\r\n      </Box>\r\n    </Typography>\r\n  )\r\n  const commands = {}\r\n  for (const k in cmds) {\r\n    commands[k] = async (msg) => {\r\n      try {\r\n        return await cmds[k](msg)\r\n      } catch (err) {\r\n        return (\r\n          <Box>\r\n            <p>unexpected error</p>\r\n            <p>{`${err}`}</p>\r\n          </Box>\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <TerminalContextProvider>\r\n      <Box ref={REF} height=\"100%\" width=\"100%\" position=\"fixed\" pb={8}>\r\n        <ReactTerminal theme=\"dracula\" commands={commands} showControlButtons={false} welcomeMessage={welcome} />\r\n        <Box position=\"absolute\" right={'5%'} bottom={128}>\r\n          <Fab color=\"secondary\" variant=\"extended\" onClick={paste_command}>\r\n            Paste\r\n          </Fab>\r\n        </Box>\r\n      </Box>\r\n    </TerminalContextProvider>\r\n  )\r\n}\r\n","import { makeStyles } from '@material-ui/core/styles'\r\nimport { Button, Card, CardActions, CardContent, Box, Typography } from '@material-ui/core'\r\n\r\nimport SportsEsportsIcon from '@material-ui/icons/SportsEsports'\r\nimport KeyboardIcon from '@material-ui/icons/Keyboard'\r\nimport LaptopChromebookIcon from '@material-ui/icons/LaptopChromebook'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    justifyContent: 'space-around',\r\n    alignItems: 'center',\r\n    marginTop: '150px',\r\n    '&>div': {\r\n      margin: '40px',\r\n    },\r\n    '@media screen and (max-width:960px)': {\r\n      flexDirection: 'column',\r\n      marginTop: '0px',\r\n    },\r\n  },\r\n}))\r\n\r\nexport default function Home() {\r\n  const classes = useStyles()\r\n  return (\r\n    <div className={classes.root}>\r\n      <Card>\r\n        <CardContent>\r\n          <Box fontSize=\"16em\" align=\"center\">\r\n            <LaptopChromebookIcon color=\"primary\" fontSize=\"inherit\" />\r\n            <Typography variant=\"h3\" color=\"primary\" align=\"center\">\r\n              Pro\r\n            </Typography>\r\n          </Box>\r\n        </CardContent>\r\n        <CardActions>\r\n          <Button fullWidth color=\"primary\" variant=\"contained\" size=\"large\" href=\"/pro\">\r\n            Go\r\n          </Button>\r\n        </CardActions>\r\n      </Card>\r\n\r\n      <Card>\r\n        <CardContent>\r\n          <Box fontSize=\"16em\" align=\"center\">\r\n            <SportsEsportsIcon color=\"primary\" fontSize=\"inherit\" />\r\n            <Typography variant=\"h3\" color=\"primary\" align=\"center\">\r\n              Lite\r\n            </Typography>\r\n          </Box>\r\n        </CardContent>\r\n        <CardActions>\r\n          <Button fullWidth color=\"primary\" variant=\"contained\" size=\"large\" href=\"/lite\">\r\n            Go\r\n          </Button>\r\n        </CardActions>\r\n      </Card>\r\n\r\n      <Card>\r\n        <CardContent>\r\n          <Box fontSize=\"16em\" align=\"center\">\r\n            <KeyboardIcon color=\"primary\" fontSize=\"inherit\" />\r\n            <Typography variant=\"h3\" color=\"primary\" align=\"center\">\r\n              Term\r\n            </Typography>\r\n          </Box>\r\n        </CardContent>\r\n        <CardActions>\r\n          <Button fullWidth color=\"primary\" variant=\"contained\" size=\"large\" href=\"/term\">\r\n            Go\r\n          </Button>\r\n        </CardActions>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n","import { BigNumber, ethers } from 'ethers'\r\nimport collar from '../config/abi/collar'\r\nimport { useContext, useEffect, useState } from 'react'\r\nimport { Context } from '@/store'\r\nimport {\r\n  Box,\r\n  Grid,\r\n  Paper,\r\n  Button,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n} from '@material-ui/core'\r\nimport DynamicFont from 'react-dynamic-font'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { MyDivInfo, FloatMessage2, MyButtonWhite } from '@/components/modules'\r\nimport { iconInfo, TotalValueIcon, GlobalIcon } from '@/assets/svg'\r\nimport { poolList } from '../libraries/pools'\r\nimport Pools from '../libraries/pools'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    margin: '30px auto',\r\n    //Mobile\r\n    '@media screen and (max-width:960px)': {\r\n      width: 'calc(100% - 40px)',\r\n      padding: '0 20px',\r\n    },\r\n    //PC\r\n    '@media screen and (min-width:960px)': {\r\n      width: '900px',\r\n    },\r\n  },\r\n  totalValue: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    '&>div': {\r\n      '&:first-child': {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n        width: '180px',\r\n        margin: '10px 0',\r\n        fontSize: '20px',\r\n        fontFamily: 'Gillsans',\r\n        color: '#fff',\r\n        '&>div': {\r\n          display: 'flex',\r\n          '&>img': {\r\n            width: '20px',\r\n          },\r\n          '&>span': {\r\n            marginLeft: '10px',\r\n          },\r\n        },\r\n        '&>img': {\r\n          width: '14px',\r\n        },\r\n      },\r\n      '&:last-child': {\r\n        fontSize: '24px',\r\n        fontFamily: 'Gillsans',\r\n        color: '#4975FF',\r\n        marginLeft: '30px',\r\n      },\r\n    },\r\n    '@media screen and (max-width:960px)': {\r\n      flexDirection: 'column',\r\n      alignItems: 'start',\r\n    },\r\n  },\r\n  globalValue: {\r\n    fontFamily: 'Gillsans',\r\n    display: 'flex',\r\n    alignItems: 'start',\r\n    margin: '10px 0',\r\n    '&>div': {\r\n      '&:first-child': {\r\n        fontSize: '20px',\r\n        color: '#fff',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        width: '180px',\r\n        '&>img': {\r\n          width: '20px',\r\n        },\r\n        '&>span': {\r\n          marginLeft: '10px',\r\n        },\r\n      },\r\n      '&:last-child': {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        marginLeft: '30px',\r\n        width: '710px',\r\n        '@media screen and (max-width:960px)': {\r\n          width: 'calc(100% - 30px)',\r\n        },\r\n      },\r\n    },\r\n    '@media screen and (max-width:960px)': {\r\n      flexDirection: 'column',\r\n      alignItems: 'start',\r\n    },\r\n  },\r\n  globalValueInfo: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    width: 'calc(50% - 10px)',\r\n    '&>div:first-child': {\r\n      color: '#7B96EB',\r\n      marginBottom: '5px',\r\n      width: '100%',\r\n    },\r\n    '&>div:last-child': {\r\n      color: 'white',\r\n      backgroundColor: '#111C3C',\r\n      padding: '6px',\r\n      width: '100%',\r\n      boxSizing: 'border-box',\r\n    },\r\n  },\r\n  yourBalance: {\r\n    '&>div:first-child': {\r\n      fontSize: '20px',\r\n      fontFamily: 'Gillsans',\r\n      color: '#fff',\r\n      marginBottom: '10px',\r\n    },\r\n    '&>div:last-child': {\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      '&>div': {\r\n        display: 'flex',\r\n        width: 'calc(50% - 10px)',\r\n        justifyContent: 'space-between',\r\n        '&>div': {\r\n          width: 'calc(50% - 10px)',\r\n        },\r\n      },\r\n      '@media screen and (max-width:960px)': {\r\n        flexDirection: 'column',\r\n        '&>div': {\r\n          width: '100%',\r\n        },\r\n      },\r\n    },\r\n  },\r\n  detailTable: {\r\n    '&>div:first-child': { fontSize: '20px', fontFamily: 'Gillsans', color: '#fff', margin: '10px 0' },\r\n    '&>div:last-child': {\r\n      '& tr': {\r\n        borderBottom: 'white 1px solid',\r\n      },\r\n      '& th,& td': {\r\n        color: 'white',\r\n        padding: 0,\r\n        border: 'none',\r\n        fontSize: '18px',\r\n        fontFamily: 'Gillsans',\r\n        whiteSpace: 'nowrap',\r\n        paddingRight: '20px',\r\n      },\r\n      '& button': {\r\n        width: '133px',\r\n      },\r\n    },\r\n  },\r\n  infoTable: {\r\n    '@media screen and (max-width:960px)': {\r\n      display: 'none',\r\n    },\r\n    margin: '10px 0',\r\n    '& tr': {\r\n      borderBottom: 'white 1px solid',\r\n    },\r\n    '& th,& td': {\r\n      color: 'white',\r\n      padding: '0',\r\n      paddingRight: '20px',\r\n      border: 'none',\r\n      whiteSpace: 'nowrap',\r\n      fontFamily: 'Gillsans',\r\n      fontSize: '18px',\r\n    },\r\n    '& button': {\r\n      width: '133px',\r\n    },\r\n  },\r\n  infoTableMobile: {\r\n    '@media screen and (min-width:960px)': {\r\n      display: 'none',\r\n    },\r\n    fontFamily: 'Gillsans',\r\n    fontSize: '18px',\r\n    color: 'white',\r\n    '& button': {\r\n      width: '133px',\r\n    },\r\n  },\r\n  buttonGroup: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n    margin: '10px 0',\r\n    paddingRight: '0 !important',\r\n    '@media screen and (max-width:960px)': {\r\n      flexDirection: 'column',\r\n      alignItems: 'flex-end',\r\n    },\r\n  },\r\n})\r\n\r\nconst getContract = (address, signer) => {\r\n  return new ethers.Contract(address, collar, signer)\r\n}\r\nconst withLoss = (val) => {\r\n  return val.mul(995).div(1000)\r\n}\r\n\r\nexport default function MyPage() {\r\n  const classes = useStyles()\r\n  const {\r\n    state: { registry, signer },\r\n    setState,\r\n  } = useContext(Context)\r\n  const [pools, setPools] = useState([])\r\n  const [clpts, setClpts] = useState([])\r\n  const [price, setPrice] = useState({\r\n    COLL: 1,\r\n    USDT: 1,\r\n    USDC: 1,\r\n  })\r\n  const [anchorEl, setAnchorEl] = useState({ totalValue: null })\r\n  const getAddress = async () => {\r\n    const address = await signer.getAddress()\r\n    return address\r\n  }\r\n  const getBalance = (addr) => new ethers.Contract(addr, collar, signer)\r\n  const transform = (num) => (parseFloat(num) / 1000000000000000000).toFixed(3)\r\n  useEffect(() => {\r\n    if (signer) {\r\n      ;(async () => {\r\n        const account = await getAddress()\r\n        const res = await Promise.all(\r\n          Pools.map(async (item) => {\r\n            const sx = await getBalance(item.pool).sx()\r\n            const sy = await getBalance(item.pool).sy()\r\n            const sk = await getBalance(item.pool).sk()\r\n            const coll_total = transform(sx)\r\n            const want_total = transform(sy)\r\n            const bond_total = transform(await getBalance(poolList[item.pool].bond.addr).balanceOf(item.pool))\r\n            const earned = transform(await getBalance(item.pool).earned(account))\r\n            const clpt_pre = await getBalance(item.pool).balanceOf(account)\r\n            const [clpt_coll, clpt_want] = await getBalance(item.pool).get_dxdy(clpt_pre)\r\n            const clpt = transform(clpt_pre)\r\n            const call = transform(await getBalance(item.call).balanceOf(account))\r\n            const coll = transform(await getBalance(item.coll).balanceOf(account))\r\n            const receivbles =\r\n              transform(clpt_coll) * price['COLL'] +\r\n              transform(clpt_want) * price[poolList[item.pool].want.symbol] +\r\n              coll * 1\r\n            const shareOfPoll = `${((ethers.utils.formatEther(clpt_pre) / ethers.utils.formatEther(sk)) * 100).toFixed(\r\n              2,\r\n            )} %`\r\n            const apr = '0.00%'\r\n            const apy = `0.00%`\r\n            return {\r\n              pool: item.pool,\r\n              clpt,\r\n              call,\r\n              coll,\r\n              coll_total,\r\n              want_total,\r\n              bond_total,\r\n              earned,\r\n              receivbles,\r\n              shareOfPoll,\r\n              apr,\r\n              apy,\r\n            }\r\n          }),\r\n        ).catch((err) => {\r\n          console.log(err)\r\n          return []\r\n        })\r\n        setPools(res)\r\n      })()\r\n    }\r\n  }, [signer])\r\n\r\n  const redeem = async (pool) => {\r\n    if (!signer) {\r\n      return false\r\n    }\r\n    const contract = getContract(pool.pool, signer)\r\n    const account = await getAddress()\r\n    const call = await getContract(pool.call, signer).balanceOf(account)\r\n    const coll = await getContract(pool.coll, signer).balanceOf(account)\r\n    if (parseFloat(call) > parseFloat(coll)) {\r\n      alert('COLL must larger than CALL!')\r\n      return\r\n    }\r\n    const want = await contract.get_dy(call)\r\n    contract\r\n      .swap_coll_to_min_want(call, withLoss(want))\r\n      .then((resp) => resp.wait())\r\n      .then(async ({ status }) => {\r\n        let coll = transform(await getBalance(pool.coll).balanceOf(account))\r\n        switch (status) {\r\n          case 1:\r\n            alert('Success!')\r\n            setPools(\r\n              pools.map((item) => {\r\n                return item.pool === pool.pool ? { ...item, coll } : item\r\n              }),\r\n            )\r\n            break\r\n          default:\r\n            alert('Failed!')\r\n        }\r\n      })\r\n      .catch(console.log)\r\n  }\r\n\r\n  const repay = async (pool) => {\r\n    if (!signer) {\r\n      return false\r\n    }\r\n    const contract = getContract(pool.pool, signer)\r\n    const account = await getAddress()\r\n    const call = await getContract(pool.call, signer).balanceOf(account)\r\n    const coll = await getContract(pool.coll, signer).balanceOf(account)\r\n    const want = await getContract(pool.want.addr, signer).balanceOf(account)\r\n    if (parseFloat(call) > parseFloat(want)) {\r\n      alert(`${pool.want.symbol} must larger than CALL!`)\r\n      return\r\n    }\r\n    if (parseFloat(call) > parseFloat(coll)) {\r\n      alert('COLL must larger than CALL!')\r\n      return\r\n    }\r\n    await contract\r\n      .burn_dual(call)\r\n      .then((resp) => resp.wait())\r\n      .then(async ({ status }) => {\r\n        let coll = transform(await getBalance(pool.coll).balanceOf(account))\r\n        let call = transform(await getBalance(pool.call).balanceOf(account))\r\n        switch (status) {\r\n          case 1:\r\n            alert('Success!')\r\n            setPools(\r\n              pools.map((item) => {\r\n                return item.pool === pool.pool ? { ...item, coll, call } : item\r\n              }),\r\n            )\r\n            break\r\n          default:\r\n            alert('Failed!')\r\n        }\r\n      })\r\n      .catch(console.log)\r\n  }\r\n\r\n  const withdraw = async (pool) => {\r\n    if (!signer) {\r\n      return false\r\n    }\r\n    const contract = getContract(pool.pool, signer)\r\n    const account = await getAddress()\r\n    const clpt = await contract.balanceOf(account)\r\n    await contract\r\n      .withdraw_both(clpt)\r\n      .then((resp) => resp.wait())\r\n      .then(async ({ status }) => {\r\n        switch (status) {\r\n          case 1:\r\n            alert('Success!')\r\n            setPools(\r\n              pools.map((item) => {\r\n                return item.pool === pool.pool ? { ...item, clpt: '0.000' } : item\r\n              }),\r\n            )\r\n            break\r\n          default:\r\n            alert('Failed!')\r\n        }\r\n      })\r\n      .catch(console.log)\r\n  }\r\n\r\n  const claim = async (pool) => {\r\n    if (!signer) {\r\n      return false\r\n    }\r\n    const contract = getContract(pool.pool, signer)\r\n    await contract\r\n      .claim_reward()\r\n      .then((resp) => resp.wait())\r\n      .then(async ({ status }) => {\r\n        switch (status) {\r\n          case 1:\r\n            alert('Success!')\r\n            setPools(\r\n              pools.map((item) => {\r\n                return item.pool === pool.pool ? { ...item, earned: '0.000' } : item\r\n              }),\r\n            )\r\n            break\r\n          default:\r\n            alert('Failed!')\r\n        }\r\n      })\r\n      .catch(console.log)\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.totalValue}>\r\n        <div>\r\n          <div>\r\n            <img src={TotalValueIcon} alt=\"\" />\r\n            <span>Total Value</span>\r\n          </div>\r\n          <img\r\n            src={iconInfo}\r\n            alt=\"\"\r\n            onMouseEnter={(e) => setAnchorEl({ totalValue: e.currentTarget })}\r\n            onMouseLeave={() => setAnchorEl({ totalValue: null })}\r\n          />\r\n          <FloatMessage2 anchorEl={anchorEl['totalValue']} info={'TotalValue'} />\r\n        </div>\r\n        <div>\r\n          $\r\n          {pools.length\r\n            ? pools\r\n                .reduce((sum, cur) => {\r\n                  return (\r\n                    sum +\r\n                    cur.coll_total * price['COLL'] +\r\n                    cur.want_total * price[poolList[cur.pool].want.symbol] +\r\n                    cur.bond_total * price[poolList[cur.pool].bond.symbol]\r\n                  )\r\n                }, 0)\r\n                .toFixed(3)\r\n            : 0}\r\n        </div>\r\n      </div>\r\n\r\n      <div className={classes.globalValue}>\r\n        <div>\r\n          <img src={GlobalIcon} alt=\"\" />\r\n          <span>Global</span>\r\n        </div>\r\n        <div>\r\n          <div className={classes.globalValueInfo}>\r\n            <div>\r\n              <DynamicFont content=\"Total Borrow\" />\r\n            </div>\r\n            <div>\r\n              <DynamicFont\r\n                content={`$${\r\n                  pools.length\r\n                    ? pools.reduce((sum, cur) => {\r\n                        return sum + cur.coll_total * price['COLL']\r\n                      }, 0)\r\n                    : 0\r\n                }`}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className={classes.globalValueInfo}>\r\n            <div>\r\n              <DynamicFont content=\"Total Collateral\" />\r\n            </div>\r\n            <div>\r\n              <DynamicFont\r\n                content={`$${\r\n                  pools.length\r\n                    ? pools\r\n                        .reduce((sum, cur) => {\r\n                          return sum + cur.bond_total * price[poolList[cur.pool].bond.symbol]\r\n                        }, 0)\r\n                        .toFixed(3)\r\n                    : 0\r\n                }`}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <hr style={{ border: '#3B54A0 1px solid', width: '100%', margin: '10px 0 20px 0' }}></hr>\r\n\r\n      <div className={classes.yourBalance}>\r\n        <div>Your Balance</div>\r\n        <div>\r\n          <div>\r\n            <MyDivInfo\r\n              title=\"Outstanding Debt\"\r\n              remarks=\"*Value of Borrowed Asset\"\r\n              amount={pools\r\n                .reduce((sum, cur) => {\r\n                  return sum + cur.call * price[poolList[cur.pool].want.symbol]\r\n                }, 0)\r\n                .toFixed(3)}\r\n              token=\"USD\"\r\n            />\r\n            <MyDivInfo\r\n              title=\"Depost Balance\"\r\n              remarks=\"*Value of Collateral\"\r\n              amount={pools\r\n                .reduce((sum, cur) => {\r\n                  return sum + cur.call * price[poolList[cur.pool].bond.symbol]\r\n                }, 0)\r\n                .toFixed(3)}\r\n              token=\"USD\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <MyDivInfo\r\n              title=\"Receivbles\"\r\n              remarks=\"*Value of Lent Asset\"\r\n              amount={pools\r\n                .reduce((sum, cur) => {\r\n                  return sum + cur.receivbles\r\n                }, 0)\r\n                .toFixed(3)}\r\n              token=\"USD\"\r\n            />\r\n            <MyDivInfo\r\n              title=\"Rewards\"\r\n              remarks=\"*Value of Claimable COLLAR\"\r\n              amount={pools\r\n                .reduce((sum, cur) => {\r\n                  return sum + cur.earned * 1\r\n                }, 0)\r\n                .toFixed(3)}\r\n              token=\"COLLAR\"\r\n              color=\"#4975FF\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className={classes.table}>\r\n        {pools.map((val, key) => {\r\n          const pool = poolList[val.pool]\r\n          return (\r\n            <div key={key} style={{ marginBottom: '40px' }}>\r\n              <div\r\n                style={{ display: 'flex', alignItems: 'center', color: 'white', fontSize: '20px', margin: '20px 0' }}\r\n              >\r\n                <img src={pool.bond.icon} style={{ width: '30px' }} />\r\n                <img src={pool.want.icon} style={{ width: '30px' }} />\r\n                {pool.bond.symbol}\r\n                <span>/</span>\r\n                {pool.want.symbol}\r\n              </div>\r\n              <div\r\n                style={{\r\n                  backgroundColor: '#2D4284',\r\n                  borderRadius: '20px',\r\n                  color: 'white',\r\n                  padding: '5px',\r\n                  textAlign: 'center',\r\n                  fontFamily: 'Gillsans',\r\n                }}\r\n              >\r\n                Expiry: {new Date(pool.expiry_time * 1000).toLocaleString()}\r\n              </div>\r\n              <div className={classes.detailTable}>\r\n                <div>\r\n                  <TableContainer component={Paper} style={{ background: 'none', boxShadow: 'none' }}>\r\n                    <Table className={classes.table}>\r\n                      <TableHead>\r\n                        <TableRow>\r\n                          <TableCell align=\"left\" style={{ paddingBottom: '10px' }}>\r\n                            Token\r\n                          </TableCell>\r\n                          <TableCell align=\"center\" style={{ paddingBottom: '10px' }}>\r\n                            Balance\r\n                          </TableCell>\r\n                          <TableCell align=\"center\" style={{ paddingBottom: '10px' }}>\r\n                            APY\r\n                          </TableCell>\r\n                          <TableCell align=\"center\">{}</TableCell>\r\n                        </TableRow>\r\n                      </TableHead>\r\n                      <TableBody>\r\n                        <TableRow>\r\n                          <TableCell align=\"left\" component=\"th\">\r\n                            COLL\r\n                          </TableCell>\r\n                          <TableCell align=\"center\">\r\n                            <div>{val.coll}</div>\r\n                            <div style={{ fontSize: '10px', color: '#99A8C9' }}>~${val.coll * price['COLL']}</div>\r\n                          </TableCell>\r\n                          <TableCell align=\"center\">0%</TableCell>\r\n                          <TableCell className={classes.buttonGroup}>\r\n                            <MyButtonWhite name=\"Redeem All\" onClick={() => redeem(pool)} />\r\n                            <MyButtonWhite name=\"Settle\" onClick={() => alert('Not support yet!')} />\r\n                          </TableCell>\r\n                        </TableRow>\r\n                        <TableRow>\r\n                          <TableCell align=\"left\" component=\"th\">\r\n                            CALL\r\n                          </TableCell>\r\n                          <TableCell align=\"center\">\r\n                            <div>{val.call}</div>\r\n                            <div style={{ fontSize: '10px', color: '#99A8C9' }}>~${val.call * price['COLL']}</div>\r\n                          </TableCell>\r\n                          <TableCell align=\"center\">0%</TableCell>\r\n                          <TableCell className={classes.buttonGroup}>\r\n                            <MyButtonWhite name=\"Repay All\" onClick={() => repay(pool)} />\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      </TableBody>\r\n                    </Table>\r\n                  </TableContainer>\r\n                </div>\r\n              </div>\r\n              <div className={classes.infoTable}>\r\n                <TableContainer component={Paper} style={{ background: 'none', boxShadow: 'none' }}>\r\n                  <Table>\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell align=\"left\">Token</TableCell>\r\n                        <TableCell align=\"center\">Balance</TableCell>\r\n                        <TableCell align=\"center\">Share of Pool</TableCell>\r\n                        <TableCell align=\"center\">Claimable COLLAR</TableCell>\r\n                        <TableCell align=\"center\">APR</TableCell>\r\n                        <TableCell align=\"center\">APY</TableCell>\r\n                        <TableCell align=\"right\">{}</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      <TableRow>\r\n                        <TableCell align=\"left\">COLL/{pool.want.symbol}</TableCell>\r\n                        <TableCell align=\"center\">{val.clpt}</TableCell>\r\n                        <TableCell align=\"center\">{val.shareOfPoll}</TableCell>\r\n                        <TableCell align=\"center\">{val.earned}</TableCell>\r\n                        <TableCell align=\"center\">{val.apr}</TableCell>\r\n                        <TableCell align=\"center\">{val.apy}</TableCell>\r\n                        <TableCell className={classes.buttonGroup}>\r\n                          <MyButtonWhite name={'Withdraw All'} onClick={() => withdraw(pool)} />\r\n                          <MyButtonWhite name={'Claim'} onClick={() => claim(pool)} />\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </div>\r\n              <div className={classes.infoTableMobile}>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                  <div>COLL/{pool.want.symbol}</div>\r\n                  <div>{val.clpt}</div>\r\n                  <div>{val.apy}</div>\r\n                  <MyButtonWhite name={'Withdraw'} onClick={() => withdraw(pool)} />\r\n                </div>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                  <div style={{ width: 'calc(100% - 150px)' }}>\r\n                    <div\r\n                      style={{\r\n                        display: 'flex',\r\n                        justifyContent: 'space-between',\r\n                        alignItems: 'center',\r\n                        padding: '10px',\r\n                        backgroundColor: '#2D4284',\r\n                        borderRadius: '15px',\r\n                        margin: '5px 0',\r\n                      }}\r\n                    >\r\n                      <span>Share of Pool</span>\r\n                      <span>{val.shareOfPoll}</span>\r\n                    </div>\r\n                    <div\r\n                      style={{\r\n                        display: 'flex',\r\n                        justifyContent: 'space-between',\r\n                        alignItems: 'center',\r\n                        padding: '10px',\r\n                        backgroundColor: '#2D4284',\r\n                        borderRadius: '15px',\r\n                        margin: '5px 0',\r\n                      }}\r\n                    >\r\n                      <span>Claimable COLLAR</span>\r\n                      <span>{val.earned}</span>\r\n                    </div>\r\n                    <div\r\n                      style={{\r\n                        display: 'flex',\r\n                        justifyContent: 'space-between',\r\n                        alignItems: 'center',\r\n                        padding: '10px',\r\n                        backgroundColor: '#2D4284',\r\n                        borderRadius: '15px',\r\n                        margin: '5px 0',\r\n                      }}\r\n                    >\r\n                      <span>APR</span>\r\n                      <span>{val.apr}</span>\r\n                    </div>\r\n                  </div>\r\n                  <MyButtonWhite name={'Claim'} onClick={() => claim(pool)} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )\r\n        })}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { makeStyles } from '@material-ui/core/styles'\r\nimport { TextField, Button, InputAdornment } from '@material-ui/core'\r\nimport { useState, useContext } from 'react'\r\nimport { Context } from '@/store'\r\nimport DynamicFont from 'react-dynamic-font'\r\nimport { ethers } from 'ethers'\r\nimport { useSnackbar } from 'notistack'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    height: 'calc(100vh - 100px)',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    color: 'white',\r\n    margin: '10px',\r\n    fontFamily: 'Gillsans',\r\n    '&>div': {\r\n      margin: '10px',\r\n    },\r\n  },\r\n  input: {\r\n    backgroundColor: 'white',\r\n    marginTop: '30px !important',\r\n    width: '600px',\r\n    '@media screen and (max-width:960px)': {\r\n      width: '80vw',\r\n    },\r\n  },\r\n})\r\nexport default function Faucet() {\r\n  const classes = useStyles()\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const {\r\n    state: { registry, signer },\r\n    setState,\r\n  } = useContext(Context)\r\n  const [amount, setAmount] = useState('')\r\n  const handleChange = (e) => {\r\n    setAmount(e.target.value)\r\n  }\r\n  const sendMe = async (token) => {\r\n    if (!signer) {\r\n      enqueueSnackbar({\r\n        type: 'failed',\r\n        title: 'Fail.',\r\n        message: 'No Account.',\r\n      })\r\n      return\r\n    }\r\n    const addr = {\r\n      usdt: '0x08f5F253fb2080660e9a4E3882Ef4458daCd52b0',\r\n      usdc: '0x67C9a0830d922C80A96408EEdF606c528836880C',\r\n    }\r\n    signer\r\n      .sendTransaction({ to: addr[token], value: ethers.utils.parseEther(String(amount || 0)) })\r\n      .then((resp) => resp.wait())\r\n      .then(({ status }) => {\r\n        if (status === 1)\r\n          enqueueSnackbar({\r\n            type: 'success',\r\n            title: 'Faucet.',\r\n            message: 'You have successfully get test token.',\r\n          })\r\n        else\r\n          enqueueSnackbar({\r\n            type: 'failed',\r\n            title: 'Fail.',\r\n            message: 'The execution failed due to an exception.',\r\n          })\r\n      })\r\n      .catch(({ code }) => {\r\n        switch (code) {\r\n          case 4001:\r\n            enqueueSnackbar({\r\n              type: 'failed',\r\n              title: 'Fail.',\r\n              message: 'User denied transaction signature.',\r\n            })\r\n            break\r\n          default:\r\n            console.log(code)\r\n            break\r\n        }\r\n      })\r\n  }\r\n  return (\r\n    <div className={classes.root}>\r\n      <div style={{ fontSize: '40px' }}>Collar Faucet</div>\r\n      <div style={{ fontSize: '20px', maxWidth: 'calc(80vw)' }}>\r\n        <DynamicFont content=\"Claim your test token for Collar open alpha product\" />\r\n      </div>\r\n      <TextField\r\n        className={classes.input}\r\n        label={\r\n          amount === ''\r\n            ? 'The amount of ETH you need to exchange for testcoin'\r\n            : `You will get ${(133337 * amount || 0) + 13.37} testcoin`\r\n        }\r\n        type=\"number\"\r\n        variant=\"filled\"\r\n        value={amount}\r\n        onChange={handleChange}\r\n      />\r\n      <div style={{ display: 'flex', width: '100%', justifyContent: 'center' }}>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          disableElevation\r\n          style={{ width: '200px', maxWidth: '40%', margin: '10px' }}\r\n          onClick={() => sendMe('usdt')}\r\n        >\r\n          Send me USDT\r\n        </Button>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          disableElevation\r\n          style={{ width: '200px', maxWidth: '40%', margin: '10px' }}\r\n          onClick={() => sendMe('usdc')}\r\n        >\r\n          Send me USDC\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { useContext, useState } from 'react'\r\nimport { Context } from '@/store'\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\r\nimport { BrowserRouter, Switch, Route, Link } from 'react-router-dom'\r\nimport { Drawer, Box, IconButton, Divider, List, ListItem, ListItemIcon, ListItemText, Hidden } from '@material-ui/core'\r\n\r\nimport Lite from '@/views/Lite'\r\nimport Pro from '@/views/Pro'\r\nimport Term from '@/views/Term'\r\nimport Home from '@/views/Home'\r\nimport MyPage from '@/views/MyPage'\r\nimport Faucet from '@/views/Faucet'\r\n\r\nimport SportsEsportsIcon from '@material-ui/icons/SportsEsports'\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft'\r\nimport LaptopChromebookIcon from '@material-ui/icons/LaptopChromebook'\r\nimport KeyboardIcon from '@material-ui/icons/Keyboard'\r\nimport PersonIcon from '@material-ui/icons/Person'\r\n\r\nimport { LiteIcon, TermIcon, ProIcon, MypageIcon, CloseMenuIcon } from '@/assets/svg'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  drawer: {\r\n    '&>div': {\r\n      display: 'flex',\r\n      flexDirection: 'row',\r\n      background: 'none',\r\n      border: 'none',\r\n    },\r\n  },\r\n  listItem: {\r\n    flexDirection: 'column',\r\n  },\r\n  fontSpan: {\r\n    '& span': {\r\n      fontFamily: 'Gillsans',\r\n      color: 'white',\r\n      fontSize: '18px',\r\n    },\r\n  },\r\n  blurbg: {\r\n    '&, &:before': {\r\n      position: 'fixed',\r\n      top: 0,\r\n      left: 0,\r\n      width: '100%',\r\n      height: '100%',\r\n      backgroundColor: 'rgba(0,0,0,0.5)',\r\n      zIndex: '200',\r\n    },\r\n    '&:after': {\r\n      filter: 'blur(15px) brightness(110%)',\r\n    },\r\n  },\r\n}))\r\n\r\nconst MyListItem = ({ onClick, item, icon, cur }) => {\r\n  const classes = useStyles()\r\n  return (\r\n    <ListItem\r\n      button\r\n      onClick={onClick}\r\n      key={item}\r\n      to={`/${item.toLowerCase()}`}\r\n      component={Link}\r\n      className={classes.listItem}\r\n      style={{ backgroundColor: cur == item.toLowerCase() ? '#1E2C57' : '#4C76F9', marginBottom: '20px' }}\r\n    >\r\n      <ListItemIcon style={{ display: 'inline-block', textAlign: 'center' }}>\r\n        <img src={icon} alt=\"\" />\r\n      </ListItemIcon>\r\n      <ListItemText primary={item} className={classes.fontSpan} />\r\n    </ListItem>\r\n  )\r\n}\r\n\r\nexport default function Navigator() {\r\n  const classes = useStyles()\r\n  const {\r\n    state: { menu_open, signer, registry },\r\n    setState,\r\n  } = useContext(Context)\r\n  const [curpage, setCurpage] = useState(window.location.pathname.split('/')[1])\r\n  const changePage = (item) => {\r\n    setCurpage(item)\r\n    setState({ menu_open: false })\r\n  }\r\n  return (\r\n    <BrowserRouter>\r\n      <Drawer variant=\"persistent\" anchor=\"left\" open={menu_open} className={classes.drawer}>\r\n        <Box width=\"30vw\" style={{ backgroundColor: '#4975FF' }}>\r\n          <Box\r\n            display=\"flex\"\r\n            style={{ minHeight: '56px', justifyContent: 'center' }}\r\n            onClick={() => setState({ menu_open: false })}\r\n          >\r\n            <img src={CloseMenuIcon} alt=\"\" />\r\n          </Box>\r\n          <List style={{ padding: 0 }}>\r\n            <MyListItem onClick={() => changePage('lite')} item=\"Lite\" icon={LiteIcon} cur={curpage} />\r\n            <MyListItem onClick={() => changePage('pro')} item=\"Pro\" icon={ProIcon} cur={curpage} />\r\n            <MyListItem onClick={() => changePage('term')} item=\"Term\" icon={TermIcon} cur={curpage} />\r\n            <MyListItem onClick={() => changePage('mypage')} item=\"MyPage\" icon={MypageIcon} cur={curpage} />\r\n            <MyListItem onClick={() => changePage('faucet')} item=\"Faucet\" icon={LiteIcon} cur={curpage} />\r\n            <MyListItem onClick={() => changePage('home')} item=\"Home\" icon={LiteIcon} cur={curpage} />\r\n          </List>\r\n        </Box>\r\n      </Drawer>\r\n      <div\r\n        className={classes.blurbg}\r\n        style={{ display: menu_open ? 'block' : 'none' }}\r\n        onClick={() => setState({ menu_open: false })}\r\n      ></div>\r\n      <Box>\r\n        <Switch>\r\n          <Route path=\"/home\">\r\n            <Home />\r\n          </Route>\r\n          <Route path=\"/lite\">\r\n            <Lite />\r\n          </Route>\r\n          <Route path=\"/pro\">\r\n            <Pro />\r\n          </Route>\r\n          <Route path=\"/term\">\r\n            <Term />\r\n          </Route>\r\n          <Route path=\"/mypage\">\r\n            <MyPage />\r\n          </Route>\r\n          <Route path=\"/faucet\">\r\n            <Faucet />\r\n          </Route>\r\n          <Route path=\"/\">\r\n            <Lite />\r\n          </Route>\r\n        </Switch>\r\n      </Box>\r\n    </BrowserRouter>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\nimport Box from '@material-ui/core/Box'\r\n\r\nexport default function ConnectWallet(props) {\r\n  const { signer, click_address, click_connect } = props\r\n  const [address, setAddress] = useState(null)\r\n\r\n  ;(async () => {\r\n    if (signer) {\r\n      const addr = await signer.getAddress()\r\n      if (addr !== address) {\r\n        setAddress(addr)\r\n      }\r\n    } else {\r\n      if (address !== null) {\r\n        setAddress(null)\r\n      }\r\n    }\r\n  })()\r\n\r\n  return address ? (\r\n    <Button\r\n      variant=\"outlined\"\r\n      color=\"inherit\"\r\n      onClick={click_address}\r\n      style={{ borderRadius: '0', fontFamily: 'Avenir' }}\r\n    >\r\n      <Box textOverflow=\"ellipsis\" fontFamily=\"Monospace\" fontWeight=\"fontWeightBold\" overflow=\"hidden\" maxWidth=\"25vw\">\r\n        {address}\r\n      </Box>\r\n    </Button>\r\n  ) : signer ? (\r\n    <Box width=\"25vw\">\r\n      <LinearProgress color=\"secondary\" />\r\n    </Box>\r\n  ) : (\r\n    <Button\r\n      variant=\"outlined\"\r\n      color=\"inherit\"\r\n      onClick={click_connect}\r\n      style={{ borderRadius: '0', fontFamily: 'Avenir' }}\r\n    >\r\n      Connect Wallet\r\n    </Button>\r\n  )\r\n}\r\n","import { Component } from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\nimport Box from '@material-ui/core/Box'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardActions from '@material-ui/core/CardActions'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport TableContainer from '@material-ui/core/TableContainer'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Table from '@material-ui/core/Table'\r\nimport TableRow from '@material-ui/core/TableRow'\r\nimport TableCell from '@material-ui/core/TableCell'\r\nimport TableBody from '@material-ui/core/TableBody'\r\nimport { ethers } from 'ethers'\r\n\r\nexport default class AccountDialog extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      address: null,\r\n      balance: null,\r\n    }\r\n  }\r\n\r\n  sync_address = async () => {\r\n    if (this.props.signer) {\r\n      const address = await this.props.signer.getAddress()\r\n      if (address !== this.state.address) {\r\n        this.setState({ address: address })\r\n        return\r\n      }\r\n    }\r\n  }\r\n\r\n  sync_balance = async () => {\r\n    if (this.props.signer) {\r\n      const balance = await this.props.signer.getBalance()\r\n      if (this.state.balance === null) {\r\n        this.setState({ balance: balance })\r\n        return\r\n      }\r\n      if (balance.eq(this.state.balance) === false) {\r\n        this.setState({ balance: balance })\r\n        return\r\n      }\r\n    }\r\n  }\r\n\r\n  render_address = () => {\r\n    if (this.state.address) {\r\n      return (\r\n        <Box\r\n          fontFamily=\"Monospace\"\r\n          textOverflow=\"ellipsis\"\r\n          overflow=\"hidden\"\r\n          m={1}\r\n          fontSize=\"h6.fontSize\"\r\n          align=\"center\"\r\n        >\r\n          {this.state.address}\r\n        </Box>\r\n      )\r\n    }\r\n    return (\r\n      <Box width=\"100%\">\r\n        <LinearProgress color=\"secondary\" />\r\n      </Box>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    this.sync_address()\r\n    this.sync_balance()\r\n    return (\r\n      <Dialog fullWidth open={this.props.open} onClose={this.props.onClose}>\r\n        <DialogTitle>Account</DialogTitle>\r\n        <DialogContent>\r\n          <Card>\r\n            <CardContent>\r\n              {this.render_address()}\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableBody>\r\n                    <TableRow key=\"address\">\r\n                      <TableCell component=\"th\" scope=\"row\">\r\n                        ETH Balance\r\n                      </TableCell>\r\n                      <TableCell align=\"right\">\r\n                        {this.state.balance ? (\r\n                          <Typography color=\"textPrimary\" align=\"center\" component=\"code\">\r\n                            {ethers.utils.formatEther(this.state.balance)}\r\n                          </Typography>\r\n                        ) : (\r\n                          <Box width=\"100%\">\r\n                            <LinearProgress color=\"secondary\" />\r\n                          </Box>\r\n                        )}\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n            </CardContent>\r\n            <CardActions>\r\n              <Button\r\n                color=\"primary\"\r\n                onClick={() => {\r\n                  navigator.clipboard.writeText(this.state.address)\r\n                }}\r\n              >\r\n                <Typography noWrap>copy address</Typography>\r\n              </Button>\r\n              <Button color=\"primary\" href={`https://etherscan.io/address/${this.state.address}`} target=\"_blank\">\r\n                <Typography noWrap>view on etherscan</Typography>\r\n              </Button>\r\n              <Button color=\"primary\" onClick={this.props.disconnect} target=\"_blank\">\r\n                <Typography noWrap>disconnect</Typography>\r\n              </Button>\r\n            </CardActions>\r\n          </Card>\r\n        </DialogContent>\r\n      </Dialog>\r\n    )\r\n  }\r\n}\r\n","import { useContext } from 'react'\r\nimport { Context } from '@/store'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Box, AppBar, Toolbar, IconButton, Typography } from '@material-ui/core'\r\nimport ConnectWallet from './ConnectWallet'\r\nimport AccountDialog from './AccountDialog'\r\nimport MenuIcon from '@material-ui/icons/Menu'\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    zIndex: '9999',\r\n  },\r\n  appbar: {\r\n    backgroundColor: '#4975FF',\r\n  },\r\n  toolbar: {\r\n    minHeight: '56px',\r\n  },\r\n}))\r\nexport default function Header() {\r\n  const classes = useStyles()\r\n  const {\r\n    state: { registry, menu_open, dialog_open, signer, web3Modal },\r\n    setState,\r\n    connect_wallet,\r\n  } = useContext(Context)\r\n\r\n  return (\r\n    <div>\r\n      <Box className={classes.root} overflow=\"hidden\">\r\n        <AppBar position=\"static\" className={classes.appbar}>\r\n          <Toolbar className={classes.toolbar}>\r\n            <Box maxWidth=\"10vw\" display={menu_open ? 'none' : 'block'}>\r\n              <IconButton\r\n                color=\"inherit\"\r\n                onClick={() => {\r\n                  setState({ menu_open: true })\r\n                }}\r\n                edge=\"start\"\r\n              >\r\n                <MenuIcon />\r\n              </IconButton>\r\n            </Box>\r\n            <Box flexGrow={1} textOverflow=\"ellipsis\">\r\n              <Typography variant=\"h6\" noWrap style={{ fontFamily: 'Gill Sans' }}>\r\n                Collar\r\n              </Typography>\r\n            </Box>\r\n            <ConnectWallet\r\n              signer={signer}\r\n              click_connect={connect_wallet}\r\n              click_address={() => {\r\n                setState({ dialog_open: true })\r\n              }}\r\n            />\r\n          </Toolbar>\r\n        </AppBar>\r\n      </Box>\r\n\r\n      <AccountDialog\r\n        signer={signer}\r\n        disconnect={() => {\r\n          web3Modal.clearCachedProvider()\r\n          setState({ signer: null, dialog_open: false })\r\n        }}\r\n        open={dialog_open}\r\n        onClose={() => {\r\n          setState({ dialog_open: false })\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n","import { useReducer, useEffect, createContext } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Context } from '@/store'\r\n\r\nimport Web3 from 'web3'\r\nimport Web3Modal from 'web3modal'\r\nimport WalletConnectProvider from '@walletconnect/web3-provider'\r\nimport { ethers } from 'ethers'\r\nimport { getWeb3NoAccount } from '@/utils/web3'\r\n\r\nimport { MyNotifyProvider } from '@/components/modules'\r\nimport Registry from './libraries/registry'\r\nimport Navigator from './components/Navigator'\r\nimport Header from './components/Header'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  '@global': {\r\n    '.web3modal-modal-lightbox': {\r\n      zIndex: '5',\r\n    },\r\n  },\r\n}))\r\n\r\nconst web3 = new Web3(getWeb3NoAccount())\r\nconst registry = new Registry(window.location.hostname)\r\nconst web3Modal = new Web3Modal({\r\n  network: registry.config.network,\r\n  cacheProvider: true,\r\n  providerOptions: {\r\n    walletconnect: {\r\n      package: WalletConnectProvider,\r\n      options: {\r\n        infuraId: registry.config.infuraid,\r\n      },\r\n    },\r\n  },\r\n})\r\n\r\nexport default function App() {\r\n  const classes = useStyles()\r\n  const [state, setState] = useReducer((s, ns) => ({ ...s, ...ns }), {\r\n    menu_open: false,\r\n    dialog_open: false,\r\n    signer: null,\r\n    web3,\r\n    web3Modal,\r\n    registry,\r\n    LiteContext: createContext(),\r\n  })\r\n\r\n  const connect_wallet = async () => {\r\n    const web3provider = await web3Modal.connect()\r\n    const provider = new ethers.providers.Web3Provider(web3provider)\r\n    const signer = provider.getSigner()\r\n    const network = await provider.getNetwork()\r\n    if (network.chainId !== registry.config.chainid) {\r\n      alert('not support this network, chainId: ' + network.chainId)\r\n      setState({ signer: null })\r\n      return\r\n    }\r\n    setState({\r\n      signer: signer,\r\n      web3: new Web3(provider),\r\n    })\r\n    if (!web3provider.on) {\r\n      return\r\n    }\r\n    web3provider.on('disconnect', () => {\r\n      web3Modal.clearCachedProvider()\r\n      setState({ signer: null, dialog_open: false })\r\n    })\r\n    web3provider.on('accountsChanged', async (accounts) => {\r\n      if (accounts.length === 0) {\r\n        web3Modal.clearCachedProvider()\r\n        setState({ signer: null, dialog_open: false })\r\n        return\r\n      }\r\n      await connect_wallet()\r\n    })\r\n    web3provider.on('chainChanged', async (chainId) => {\r\n      if (chainId !== registry.config.chainid) {\r\n        alert('not support this network, chainId: ' + chainId)\r\n        setState({ signer: null })\r\n      } else {\r\n        await connect_wallet()\r\n      }\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (web3Modal.cachedProvider) {\r\n      connect_wallet()\r\n      return\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <Context.Provider value={{ state, setState, connect_wallet }}>\r\n      <MyNotifyProvider>\r\n        <Header />\r\n        <Navigator />\r\n      </MyNotifyProvider>\r\n    </Context.Provider>\r\n  )\r\n}\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry)\r\n      getFID(onPerfEntry)\r\n      getFCP(onPerfEntry)\r\n      getLCP(onPerfEntry)\r\n      getTTFB(onPerfEntry)\r\n    })\r\n  }\r\n}\r\n\r\nexport default reportWebVitals\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\nimport reportWebVitals from './reportWebVitals'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals()\r\n"],"sourceRoot":""}